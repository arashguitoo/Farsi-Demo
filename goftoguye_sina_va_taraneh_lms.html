<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú¯ÙØªÚ¯ÙˆÛŒ Ø³ÛŒÙ†Ø§ Ùˆ ØªØ±Ø§Ù†Ù‡ | Goftogu-ye Sina va Taraneh</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <script data-goatcounter="https://aguitoo.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Calibri', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .nav-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }

        .content.active {
            display: block;
        }

        .persian {
            font-family: 'Vazirmatn', sans-serif !important;
            direction: rtl !important;
            text-align: right !important;
            font-size: 1.3em;
            color: #333;
            line-height: 2;
            unicode-bidi: embed !important;
        }

        .persian-question {
            font-family: 'Vazirmatn', sans-serif !important;
            direction: rtl !important;
            text-align: right !important;
            color: #667eea;
            font-size: 1.2em;
            margin-bottom: 15px;
        }

        .dialog-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .dialog-line {
            margin: 15px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            direction: rtl !important;
            text-align: right !important;
        }

        .speaker {
            font-weight: bold;
            margin-bottom: 5px;
            direction: rtl !important;
            text-align: right !important;
            display: block !important;
        }

        .speaker.taraneh {
            color: #e91e63;
        }

        .speaker.sina {
            color: #2196F3;
        }

        .vocab-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            font-size: 1.5em;
        }

        .vocab-card:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .vocab-card.flipped {
            background: white;
            color: #667eea;
            border: 3px solid #667eea;
        }

        .exercise {
            background: #f0f7ff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .exercise h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .option {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(-5px);
        }

        .option.correct {
            background: #c8e6c9;
            border-color: #4CAF50;
        }

        .option.wrong {
            background: #ffcdd2;
            border-color: #f44336;
        }

        .option.selected {
            background: #e3f2fd;
            border-color: #667eea;
            border-width: 3px;
        }

        .input-box {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            margin: 10px 0;
        }

        .input-box.persian {
            font-family: 'Vazirmatn', sans-serif !important;
            direction: rtl !important;
            text-align: right !important;
            font-size: 1.2em;
        }

        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background: #fff3cd;
            border-radius: 8px;
            margin: 15px 0;
            direction: rtl !important;
            justify-content: flex-end !important;
        }

        .word-chip {
            background: white;
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
        }

        .word-chip:hover {
            background: #667eea;
            color: white;
        }

        .word-chip.selected {
            background: #764ba2;
            color: white;
            border-color: #764ba2;
        }

        .sentence-builder {
            min-height: 60px;
            padding: 15px;
            background: white;
            border: 2px dashed #ddd;
            border-radius: 8px;
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            direction: rtl !important;
            justify-content: flex-end !important;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .feedback.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        .feedback.correct {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .feedback.wrong {
            background: #ffcdd2;
            color: #c62828;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 25px;
            border-radius: 15px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        .score-display {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.1em;
            margin: 15px 0;
        }

        .quiz-result {
            text-align: center;
            padding: 30px;
        }

        .certificate {
            background: linear-gradient(135deg, #fff, #f0f0f0);
            border: 5px solid #667eea;
            border-radius: 15px;
            padding: 40px;
            margin: 20px auto;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .certificate h2 {
            color: #667eea;
            font-size: 2em;
            margin: 20px 0;
        }

        .certificate .name {
            font-size: 1.8em;
            color: #764ba2;
            margin: 20px 0;
            font-weight: bold;
        }

        .certificate .score {
            font-size: 1.5em;
            color: #4CAF50;
            margin: 15px 0;
        }

        .pair-word {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 3px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .pair-word:hover {
            border-color: #667eea;
            transform: scale(1.05);
        }

        .pair-word.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pair-word.matched {
            background: #c8e6c9;
            border-color: #4CAF50;
            pointer-events: none;
            opacity: 0.7;
        }

        .error-correction {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .error-sentence {
            font-size: 1.2em;
            line-height: 2;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
        }

        .error-word {
            display: inline-block;
            padding: 2px 8px;
            margin: 0 3px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .error-word:hover {
            background: #ffeb3b;
            transform: scale(1.05);
        }

        .error-word.wrong {
            background: #ffcdd2;
            border-bottom: 2px solid #f44336;
        }

        .error-word.fixed {
            background: #c8e6c9;
            border-bottom: 2px solid #4CAF50;
            pointer-events: none;
        }

        .error-word.clicked {
            background: #fff9c4;
            animation: pulse 0.5s;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .correction-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            z-index: 1000;
            min-width: 300px;
        }

        .correction-popup.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

        .popup-overlay.show {
            display: block;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }
            
            .persian {
                font-size: 1.1em;
            }

            .vocab-card {
                font-size: 1.2em;
                padding: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š <span class="persian" dir="rtl" style="font-size: 1.2em;">Ú¯ÙØªÚ¯ÙˆÛŒ Ø³ÛŒÙ†Ø§ Ùˆ ØªØ±Ø§Ù†Ù‡</span></h1>
            <p style="font-size: 1.1em; margin-top: 10px;">Goftogu-ye Sina va Taraneh</p>
            <p style="font-size: 0.9em; opacity: 0.9;">GesprÃ¤ch zwischen Sina und Taraneh</p>
            <p>Dialog, PrÃ¤teritum, Pronomen, Plural & Quiz</p>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showSection(0)">1ï¸âƒ£ Text + Fragen</button>
            <button class="nav-btn" onclick="showSection(1)">2ï¸âƒ£ PrÃ¤teritum</button>
            <button class="nav-btn" onclick="showSection(2)">3ï¸âƒ£ Pronomen</button>
            <button class="nav-btn" onclick="showSection(3)">4ï¸âƒ£ Plural</button>
            <button class="nav-btn" onclick="showSection(4)">5ï¸âƒ£ Quiz/Test</button>
        </div>

        <!-- BEREICH 1: TEXT + FRAGEN -->
        <div class="content active" id="section0">
            <h2>ğŸ“– Teil 1: Text und Fragen</h2>
            
            <div class="dialog-box">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">Ú¯ÙØªâ€ŒÙˆÚ¯Ùˆ Ø¨ÛŒÙ† ØªØ±Ø§Ù†Ù‡ Ùˆ Ø³ÛŒÙ†Ø§</h3>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ø³Ù„Ø§Ù… Ø³ÛŒÙ†Ø§ØŒ Ø®ÙˆØ¨ÛŒØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">Ø³Ù„Ø§Ù… ØªØ±Ø§Ù†Ù‡! Ù…ÙÙ…Ù†ÙˆÙ†ØŒ Ø®ÙˆØ¨Ù…! ØªÙˆ Ø®ÙˆØ¨ÛŒØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ù…Ù† Ù‡ÙÙ… Ø®ÙˆØ¨Ù…. ØªÙˆ Ø¯ÛŒØ±ÙˆØ² Ú©ÙØ¬Ø§ Ø¨ÙˆØ¯ÛŒØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">Ø¯ÛŒØ±ÙˆØ² ØµØ¨Ø­ Ø¯Ø± Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø¨ÙˆØ¯Ù…. Ø³Ø§Ø¹ØªÙ ÛŒØ§Ø²Ø¯Ù‡ Ø¨Ø§ Ù‡ÙÙ…Ú©ÙÙ„Ø§Ø³ÛŒâ€ŒÙ‡Ø§ÛŒÙÙ… Ø¯Ø± Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù‚ÙØ±Ø§Ø± Ø¯Ø§Ø´ØªÙ…. Ø³Ø§Ø¹Øª Ø¯ÙÙˆØ§Ø²Ø¯Ù‡ Ø¨Ø§ Ù‡ÙÙ… Ø¨Ù‡ Ø³Ø§Ù„ÙÙ†Ù ØºÙØ°Ø§Ø®ÙÙˆØ±ÛŒÙ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡â€ŒÙÙ…Ø§Ù† Ø±ÙØªÛŒÙ… Ùˆ Ù†Ø§Ù‡Ø§Ø±ÙÙ…Ø§Ù† Ø±Ø§ Ø¢Ù†Ø¬Ø§ Ø®ÙˆØ±Ø¯ÛŒÙ…. Ø¨Ø¹Ø¯ Ø¨Ø§ Ù‡Ù… Ú©Ù„Ø§Ø³ Ø¯Ø§Ø´ØªÛŒÙ….</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ú©Ù„Ø§Ø³â€ŒØªØ§Ù† Ø³Ø§Ø¹ØªÙ Ú†ÙÙ†Ø¯ Ø¨ÙˆØ¯ØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">Ú©Ù„Ø§Ø³â€ŒÙ…Ø§Ù† Ø³Ø§Ø¹Øª ÛŒÚ© Ø´ÙØ±ÙˆØ¹ Ø´Ø¯ Ùˆ Ø³Ø§Ø¹Øª Ø³Ù‡ ØªÙÙ…Ø§Ù… Ø´Ø¯.</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ø¨Ø¹Ø¯ Ø§Ø² Ø¢Ù† Ú†Ù‡ Ú©Ø±Ø¯ÛŒØ¯ØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">Ù‡Ù…Ú©Ù„Ø§Ø³ÛŒâ€ŒÙ‡Ø§ÛŒÙ… Ø¨Ù‡ Ø®Ø§Ù†Ù‡â€ŒØ´Ø§Ù† Ø±ÙØªÙ†Ø¯ Ùˆ Ù…Ù† Ù‡Ù… Ø¨Ù‡ Ø®Ø§Ù†Ù‡â€ŒØ§ÙÙ… Ø±ÙØªÙ…. Ø¢Ù†Ø¬Ø§ ØªØ§ Ø´Ø¨ Ø¨Ø§ Ø®ÙˆØ§Ù‡Ø±Ù… ØªÙÙ†Ù‡Ø§ Ø¨ÙˆØ¯ÛŒÙ…. Ø´Ø¨ Ø²ÙˆØ¯ Ø®ÙˆØ§Ø¨ÛŒØ¯Ù…. ØªÙˆ Ú†Ù‡â€ŒÚ©Ø§Ø± Ú©Ø±Ø¯ÛŒØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ø¯ÛŒØ±ÙˆØ² Ù…Ù† Ùˆ Ø®ÙˆØ§Ù‡Ø±Ù… Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø¨Ù‡ Ù…ÙØ±Ú©ÙØ²Ù Ø´ÙÙ‡Ø± Ø±ÙØªÛŒÙ…. Ø´Ø¨ Ù¾ÛŒØ´Ù Ù…Ø§Ø¯Ø±Ù…Ø§Ù† Ø±ÙØªÛŒÙ… Ùˆ Ø¢Ù†Ø¬Ø§ Ø´Ø§Ù… Ø®ÙˆØ±Ø¯ÛŒÙ….</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">ØªÙˆ Ùˆ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡â€ŒØ§Øª Ø´Ø§Ù… Ú†ÛŒ Ø®ÙˆØ±Ø¯ÛŒØ¯ØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ø¨Ø§ Ù‡Ù… Ø³Ø§Ù†Ø¯ÙˆÛŒÚ† Ø¯ÙØ±ÙØ³Øª Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ø¨Ø¹Ø¯ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ Ù‡Ù… Ø®ÙˆØ±Ø¯ÛŒÙ…!</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">Ø±Ø§Ø³ØªÛŒØŒ Ú©ØªØ§Ø¨Ù Ú©Ù„Ø§Ø³Ù ÙØ§Ø±Ø³ÛŒ Ø±Ø§ Ø®Ø±ÛŒØ¯ÛŒØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ø¨Ù„Ù‡ Ù…Ù† Ø¢Ù† Ø±Ø§ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø³ÙÙØ§Ø±ÙØ´ Ø¯Ø§Ø¯Ù…. ØªÙˆ Ø¢Ù† Ø±Ø§ Ø®Ø±ÛŒØ¯ÛŒØŸ</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">Ø¨Ù„Ù‡ Ù…Ù† Ú©ØªØ§Ø¨Ù… Ø±Ø§ Ø¯ÛŒØ±ÙˆØ² Ø¯Ø± Ù…Ø±Ú©Ø² Ø´Ù‡Ø± Ø®Ø±ÛŒØ¯Ù….</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker taraneh" dir="rtl">ØªØ±Ø§Ù†Ù‡:</div>
                    <div class="persian">Ø§ÙˆÚ©ÛŒØŒ ØªØ§ ÙØ±Ø¯Ø§!</div>
                </div>
                
                <div class="dialog-line" dir="rtl">
                    <div class="speaker sina" dir="rtl">Ø³ÛŒÙ†Ø§:</div>
                    <div class="persian">ØªØ§ ÙØ±Ø¯Ø§!</div>
                </div>
            </div>

            <h3 style="margin-top: 40px; color: #667eea;">Ú©Ù„Ù…Ø§Øª ØªØ§Ø²Ù‡ (Neue WÃ¶rter)</h3>
            <p style="margin: 10px 0; color: #666;">Klicke auf die Karte zum Umdrehen â€¢ <span id="cardCounter">1 / 29</span></p>
            
            <div style="max-width: 500px; margin: 30px auto; position: relative;">
                <div id="vocabStack" style="min-height: 200px; position: relative;">
                    <!-- Vokabelkarte wird hier angezeigt -->
                </div>
                
                <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                    <button class="btn" onclick="previousCard()" id="prevBtn" style="background: #764ba2;">â† ZurÃ¼ck</button>
                    <button class="btn" onclick="nextCard()" id="nextBtn">Weiter â†’</button>
                </div>
            </div>

            <h3 style="margin-top: 40px; color: #667eea;">Ø³Ø¤Ø§Ù„â€ŒÙ‡Ø§ (Fragen zum Text)</h3>
            
            <div class="exercise">
                <h4>1. Wo war Sina gestern morgen?</h4>
                <div class="option" onclick="checkTextAnswer(this, true, 1)">
                    <span class="persian" dir="rtl">Ø¯Ø± Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡</span> (In der UniversitÃ¤t)
                </div>
                <div class="option" onclick="checkTextAnswer(this, false, 1)">
                    <span class="persian" dir="rtl">Ø¯Ø± Ø®Ø§Ù†Ù‡</span> (Zu Hause)
                </div>
                <div class="option" onclick="checkTextAnswer(this, false, 1)">
                    <span class="persian" dir="rtl">Ø¯Ø± Ù…Ø±Ú©Ø² Ø´Ù‡Ø±</span> (Im Stadtzentrum)
                </div>
                <div class="feedback" id="textfeedback1"></div>
            </div>

            <div class="exercise">
                <h4>2. Um wie viel Uhr war Sina in der Bibliothek verabredet?</h4>
                <div class="option" onclick="checkTextAnswer(this, false, 2)">
                    <span class="persian" dir="rtl">Ø³Ø§Ø¹Øª Ø¯ÙÙˆØ§Ø²Ø¯Ù‡</span> (12 Uhr)
                </div>
                <div class="option" onclick="checkTextAnswer(this, true, 2)">
                    <span class="persian" dir="rtl">Ø³Ø§Ø¹Øª ÛŒØ§Ø²Ø¯Ù‡</span> (11 Uhr)
                </div>
                <div class="option" onclick="checkTextAnswer(this, false, 2)">
                    <span class="persian" dir="rtl">Ø³Ø§Ø¹Øª ÛŒÚ©</span> (1 Uhr)
                </div>
                <div class="feedback" id="textfeedback2"></div>
            </div>

            <div class="exercise">
                <h4>3. Wo haben sie ihr Mittagessen gegessen?</h4>
                <div class="option" onclick="checkTextAnswer(this, true, 3)">
                    <span class="persian" dir="rtl">Ø¯Ø± Ø³Ø§Ù„ÙÙ† ØºÙØ°Ø§Ø®ÙˆØ±ÛŒ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡</span> (Im Speisesaal der Uni)
                </div>
                <div class="option" onclick="checkTextAnswer(this, false, 3)">
                    <span class="persian" dir="rtl">Ø¯Ø± Ø®Ø§Ù†Ù‡</span> (Zu Hause)
                </div>
                <div class="option" onclick="checkTextAnswer(this, false, 3)">
                    <span class="persian" dir="rtl">Ø¯Ø± Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡</span> (In der Bibliothek)
                </div>
                <div class="feedback" id="textfeedback3"></div>
            </div>

            <div class="exercise">
                <h4>4. Um wie viel Uhr hat Sinas Unterricht begonnen?</h4>
                <div class="option" onclick="checkTextAnswer(this, false, 4)">
                    <span class="persian" dir="rtl">Ø³Ø§Ø¹Øª Ø¯ÙÙˆØ§Ø²Ø¯Ù‡</span> (12 Uhr)
                </div>
                <div class="option" onclick="checkTextAnswer(this, true, 4)">
                    <span class="persian" dir="rtl">Ø³Ø§Ø¹Øª ÛŒÚ©</span> (1 Uhr)
                </div>
                <div class="option" onclick="checkTextAnswer(this, false, 4)">
                    <span class="persian" dir="rtl">Ø³Ø§Ø¹Øª Ø³Ù‡</span> (3 Uhr)
                </div>
                <div class="feedback" id="textfeedback4"></div>
            </div>

            <div class="exercise">
                <h4>5. Wohin sind Taraneh und ihre Schwester gegangen?</h4>
                <div class="option" onclick="checkTextAnswer(this, false, 5)">
                    <span class="persian" dir="rtl">Ø¨Ù‡ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡</span> (Zur UniversitÃ¤t)
                </div>
                <div class="option" onclick="checkTextAnswer(this, true, 5)">
                    <span class="persian" dir="rtl">Ø¨Ù‡ Ù…Ø±Ú©Ø² Ø´Ù‡Ø±</span> (Ins Stadtzentrum)
                </div>
                <div class="option" onclick="checkTextAnswer(this, false, 5)">
                    <span class="persian" dir="rtl">Ø¨Ù‡ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡</span> (Zur Bibliothek)
                </div>
                <div class="feedback" id="textfeedback5"></div>
            </div>

            <div class="score-display">
                Ù†Ù…Ø±Ù‡ Ø´Ù…Ø§: <span id="textScore">0</span> / 5
            </div>
        </div>

        <!-- BEREICH 2: PRÃ„TERITUM -->
        <div class="content" id="section1">
            <h2>â®ï¸ Teil 2: PrÃ¤teritum-Ãœbungen</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" id="praetProgress">0%</div>
            </div>

            <div class="score-display">
                Ù†Ù…Ø±Ù‡: <span id="praetScore">0</span> / 22
            </div>

            <h3 style="color: #667eea; margin: 30px 0 20px 0;">Teil A: Setzen Sie die Verben ins PrÃ¤teritum</h3>

            <div class="exercise">
                <h4>1. Sie haben heute morgen ..................... (duschen)</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ø¢Ù†Ù‡Ø§ Ø§Ù…Ø±ÙˆØ² ØµØ¨Ø­ ..................... (Ø¯ÙˆØ´ Ú¯Ø±ÙØªÙ†)</p>
                <input type="text" class="input-box persian" id="praet1" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¯ÙˆØ´ Ú¯Ø±ÙØªÙ†Ø¯', 1)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback1"></div>
            </div>

            <div class="exercise">
                <h4>2. Ich habe meine Schwester in ihrem Haus .................. (sehen)</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ù…Ù† Ø®ÙˆØ§Ù‡Ø±ÙÙ… Ø±Ø§ Ø¯Ø± Ø®Ø§Ù†Ù‡â€ŒØ§ÙØ´.................. (Ø¯ÛŒØ¯Ù†)</p>
                <input type="text" class="input-box persian" id="praet2" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¯ÛŒØ¯Ù…', 2)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback2"></div>
            </div>

            <div class="exercise">
                <h4>3. Hattet ihr in der UniversitÃ¤t Unterricht ..................? (haben)</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ø¢ÛŒØ§ Ø´ÙÙ…Ø§ Ø¯Ø± Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ú©Ù„Ø§Ø³ ..................ØŸ (Ø¯Ø§Ø´ØªÙ†)</p>
                <input type="text" class="input-box persian" id="praet3" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¯Ø§Ø´ØªÛŒØ¯', 3)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback3"></div>
            </div>

            <div class="exercise">
                <h4>4. Ich war gestern Abend hungrig, deswegen habe ich Abendessen gegessen</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ù…Ù† Ø¯ÛŒØ´Ø¨ Ú¯Ø±Ø³Ù†Ù‡ ....................(Ø¨ÙˆØ¯Ù†).ØŒ Ø¨Ø±Ø§ÛŒÙ Ù‡ÙÙ…ÛŒÙ† Ø´Ø§Ù…..........................(Ø®ÙˆØ±Ø¯Ù†)</p>
                <p style="color: #666; margin: 10px 0;">Zwei Verben: Trennen Sie mit ØŒ (persisches Komma)</p>
                <input type="text" class="input-box persian" id="praet4" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¨ÙˆØ¯Ù…ØŒ Ø®ÙˆØ±Ø¯Ù…', 4)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback4"></div>
            </div>

            <div class="exercise">
                <h4>5. Unser Lehrer ist gestern spÃ¤t zum Persisch-Unterricht ................... (kommen)</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ù…ÙØ¹ÙÙ„ÙÙ‘Ù…â€ŒÙ…Ø§Ù† Ø¯ÛŒØ±ÙˆØ² Ø¯ÛŒØ± Ø¨Ù‡ Ú©ÙÙ„Ø§Ø³Ù ÙØ§Ø±Ø³ÛŒ ................... (Ø¢Ù…Ø¯Ù†)</p>
                <input type="text" class="input-box persian" id="praet5" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¢Ù…Ø¯', 5)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback5"></div>
            </div>

            <div class="exercise">
                <h4>6. Wir hatten gestern Spaghetti zum Mittagessen .................. (haben)</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ù…Ø§ Ø¯ÛŒØ±ÙˆØ² Ø¨Ø±Ø§ÛŒ Ù†ÙÙ‡Ø§Ø± Ø§ÙØ³Ù¾Ø§Ú¯ÙØªÛŒ.................. (Ø¯Ø§Ø´ØªÙ†)</p>
                <input type="text" class="input-box persian" id="praet6" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¯Ø§Ø´ØªÛŒÙ…', 6)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback6"></div>
            </div>

            <div class="exercise">
                <h4>7. Ihr habt gestern mit eurer Mutter ...................... (sprechen)</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ø´Ù…Ø§ Ø¯ÛŒØ±ÙˆØ² Ø¨Ø§ Ù…Ø§Ø¯Ø±ÙØªØ§Ù†...................... (Ø­Ø±Ù Ø²ÙØ¯ÙÙ†)</p>
                <input type="text" class="input-box persian" id="praet7" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø­Ø±Ù Ø²Ø¯ÛŒØ¯', 7)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback7"></div>
            </div>

            <div class="exercise">
                <h4>8. Ich bin gestern zum Basar von Teheran ................. (gehen) aber habe nichts ................ (kaufen)</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ù…Ù† Ø¯ÛŒØ±ÙˆØ² Ø¨Ù‡ Ø¨Ø§Ø²Ø§Ø±Ù ØªÙ‡Ø±Ø§Ù† ................. (Ø±ÙØªÙ†) Ø§ÙÙ…Ù‘Ø§ Ú†ÛŒØ²ÛŒ ................ (Ø®ÙØ±ÛŒØ¯ÙÙ†)</p>
                <p style="color: #666; margin: 10px 0;">Zwei Verben mit Komma trennen</p>
                <input type="text" class="input-box persian" id="praet8" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø±ÙØªÙ…ØŒ Ø®Ø±ÛŒØ¯Ù…', 8)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback8"></div>
            </div>

            <div class="exercise">
                <h4>9. Um wie viel Uhr bist du heute morgen ...................... (aufwachen)?</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">ØªÙˆ Ø§Ù…Ø±ÙˆØ² ØµÙØ¨Ø­ Ø³Ø§Ø¹ÙØªÙ Ú†ÙÙ†Ø¯ Ø§Ø² Ø®ÙˆØ§Ø¨ ...................... (Ø¨ÛŒØ¯Ø§Ø± Ø´Ø¯Ù†)ØŸ</p>
                <input type="text" class="input-box persian" id="praet9" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¨ÛŒØ¯Ø§Ø± Ø´Ø¯ÛŒ', 9)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback9"></div>
            </div>

            <div class="exercise">
                <h4>10. Warum sind sie frÃ¼h .........................(aufwachen)?</h4>
                <p class="persian" dir="rtl" style="margin: 10px 0;">Ø¢Ù†Ù‡Ø§ Ú†Ø±Ø§ Ø²ÙˆØ¯ Ø§Ø² Ø®ÙˆØ§Ø¨.........................(Ø¨ÛŒØ¯Ø§Ø± Ø´Ø¯Ù†)ØŸ</p>
                <input type="text" class="input-box persian" id="praet10" placeholder="Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯">
                <button class="btn" onclick="checkPraet('Ø¨ÛŒØ¯Ø§Ø± Ø´Ø¯Ù†Ø¯', 10)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="praetfeedback10"></div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">ğŸ” Fehler finden und korrigieren</h3>
            
            <div class="exercise error-correction">
                <h4>11. Finden Sie die Fehler im persischen Satz und korrigieren Sie sie</h4>
                <p style="color: #666; margin: 10px 0;">Deutsch: Gestern bin ich frÃ¼h aufgestanden und habe gefrÃ¼hstÃ¼ckt</p>
                <div class="error-sentence persian" dir="rtl">
                    <span class="error-word" data-exercise="praet_21">Ø¯ÛŒØ±ÙˆØ²</span>
                    <span class="error-word" data-exercise="praet_21">Ù…Ù†</span>
                    <span class="error-word" data-exercise="praet_21">Ø²ÙˆØ¯</span>
                    <span class="error-word wrong" data-exercise="praet_21" onclick="clickErrorWord(this, 'Ø¨ÛŒØ¯Ø§Ø± Ø´Ø¯Ù…', 'praet_21')">Ø¨ÛŒØ¯Ø§Ø± Ø´Ø¯</span>
                    <span class="error-word" data-exercise="praet_21">Ùˆ</span>
                    <span class="error-word wrong" data-exercise="praet_21" onclick="clickErrorWord(this, 'ØµØ¨Ø­Ø§Ù†Ù‡ Ø®ÙˆØ±Ø¯Ù…', 'praet_21')">ØµØ¨Ø­Ø§Ù†Ù‡ Ø®ÙˆØ±Ø¯</span>
                </div>
                <p style="color: #f44336; margin: 10px 0; font-size: 0.9em;">ğŸ’¡ Tipp: Klicken Sie auf die falsch markierten WÃ¶rter (rot unterstrichen)</p>
                <div class="feedback" id="feedback_praet_21"></div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">Teil B: Ordnen Sie die WÃ¶rter zum Satz (Wortsalat)</h3>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Ich bin gestern nach Hause gegangen</p>
                <div class="word-bank" dir="rtl" id="wordbank12">
                    <div class="word-chip" onclick="selectWord(this, 12)">Ø¯ÛŒØ±ÙˆØ²</div>
                    <div class="word-chip" onclick="selectWord(this, 12)">Ù…Ù†</div>
                    <div class="word-chip" onclick="selectWord(this, 12)">Ø®Ø§Ù†Ù‡</div>
                    <div class="word-chip" onclick="selectWord(this, 12)">Ø±ÙØªÙ…</div>
                    <div class="word-chip" onclick="selectWord(this, 12)">Ø¨Ù‡</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence12"></div>
                <button class="btn" onclick="checkSentenceMulti(['Ù…Ù† Ø¯ÛŒØ±ÙˆØ² Ø¨Ù‡ Ø®Ø§Ù†Ù‡ Ø±ÙØªÙ…', 'Ø¯ÛŒØ±ÙˆØ² Ù…Ù† Ø¨Ù‡ Ø®Ø§Ù†Ù‡ Ø±ÙØªÙ…'], 11)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(12)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback12"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Er/Sie hat das Buch gelesen</p>
                <div class="word-bank" dir="rtl" id="wordbank13">
                    <div class="word-chip" onclick="selectWord(this, 13)">Ø§Ùˆ</div>
                    <div class="word-chip" onclick="selectWord(this, 13)">Ú©ØªØ§Ø¨</div>
                    <div class="word-chip" onclick="selectWord(this, 13)">Ø±Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 13)">Ø®ÙˆØ§Ù†Ø¯</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence13"></div>
                <button class="btn" onclick="checkSentence('Ø§Ùˆ Ú©ØªØ§Ø¨ Ø±Ø§ Ø®ÙˆØ§Ù†Ø¯', 13)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(13)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback13"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Wir haben zusammen Abendessen gegessen</p>
                <div class="word-bank" dir="rtl" id="wordbank14">
                    <div class="word-chip" onclick="selectWord(this, 14)">Ù…Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 14)">Ø´Ø§Ù…</div>
                    <div class="word-chip" onclick="selectWord(this, 14)">Ø¨Ø§ Ù‡Ù…</div>
                    <div class="word-chip" onclick="selectWord(this, 14)">Ø®ÙˆØ±Ø¯ÛŒÙ…</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence14"></div>
                <button class="btn" onclick="checkSentence('Ù…Ø§ Ø¨Ø§ Ù‡Ù… Ø´Ø§Ù… Ø®ÙˆØ±Ø¯ÛŒÙ…', 14)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(14)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback14"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Sie hatten gestern Unterricht</p>
                <div class="word-bank" dir="rtl" id="wordbank15">
                    <div class="word-chip" onclick="selectWord(this, 15)">Ø¢Ù†Ù‡Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 15)">Ø¯ÛŒØ±ÙˆØ²</div>
                    <div class="word-chip" onclick="selectWord(this, 15)">Ú©Ù„Ø§Ø³</div>
                    <div class="word-chip" onclick="selectWord(this, 15)">Ø¯Ø§Ø´ØªÙ†Ø¯</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence15"></div>
                <button class="btn" onclick="checkSentenceMulti(['Ø¢Ù†Ù‡Ø§ Ø¯ÛŒØ±ÙˆØ² Ú©Ù„Ø§Ø³ Ø¯Ø§Ø´ØªÙ†Ø¯', 'Ø¯ÛŒØ±ÙˆØ² Ø¢Ù†Ù‡Ø§ Ú©Ù„Ø§Ø³ Ø¯Ø§Ø´ØªÙ†Ø¯'], 14)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(15)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback15"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Du hast morgens geduscht</p>
                <div class="word-bank" dir="rtl" id="wordbank16">
                    <div class="word-chip" onclick="selectWord(this, 16)">ØªÙˆ</div>
                    <div class="word-chip" onclick="selectWord(this, 16)">ØµØ¨Ø­</div>
                    <div class="word-chip" onclick="selectWord(this, 16)">Ø¯ÙˆØ´</div>
                    <div class="word-chip" onclick="selectWord(this, 16)">Ú¯Ø±ÙØªÛŒ</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence16"></div>
                <button class="btn" onclick="checkSentenceMulti(['ØªÙˆ ØµØ¨Ø­ Ø¯ÙˆØ´ Ú¯Ø±ÙØªÛŒ', 'ØµØ¨Ø­ ØªÙˆ Ø¯ÙˆØ´ Ú¯Ø±ÙØªÛŒ'], 15)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(16)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback16"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Ich habe meine Schwester gesehen</p>
                <div class="word-bank" dir="rtl" id="wordbank17">
                    <div class="word-chip" onclick="selectWord(this, 17)">Ù…Ù†</div>
                    <div class="word-chip" onclick="selectWord(this, 17)">Ø®ÙˆØ§Ù‡Ø±Ù…</div>
                    <div class="word-chip" onclick="selectWord(this, 17)">Ø±Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 17)">Ø¯ÛŒØ¯Ù…</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence17"></div>
                <button class="btn" onclick="checkSentence('Ù…Ù† Ø®ÙˆØ§Ù‡Ø±Ù… Ø±Ø§ Ø¯ÛŒØ¯Ù…', 17)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(17)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback17"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Er/Sie hat frÃ¼h geschlafen</p>
                <div class="word-bank" dir="rtl" id="wordbank18">
                    <div class="word-chip" onclick="selectWord(this, 18)">Ø§Ùˆ</div>
                    <div class="word-chip" onclick="selectWord(this, 18)">Ø²ÙˆØ¯</div>
                    <div class="word-chip" onclick="selectWord(this, 18)">Ø®ÙˆØ§Ø¨ÛŒØ¯</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence18"></div>
                <button class="btn" onclick="checkSentence('Ø§Ùˆ Ø²ÙˆØ¯ Ø®ÙˆØ§Ø¨ÛŒØ¯', 18)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(18)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback18"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Was habt ihr gegessen?</p>
                <div class="word-bank" dir="rtl" id="wordbank19">
                    <div class="word-chip" onclick="selectWord(this, 19)">Ø´Ù…Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 19)">Ú†ÛŒ</div>
                    <div class="word-chip" onclick="selectWord(this, 19)">Ø®ÙˆØ±Ø¯ÛŒØ¯</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence19"></div>
                <button class="btn" onclick="checkSentence('Ø´Ù…Ø§ Ú†ÛŒ Ø®ÙˆØ±Ø¯ÛŒØ¯', 19)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(19)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback19"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Wir sind ins Stadtzentrum gegangen</p>
                <div class="word-bank" dir="rtl" id="wordbank20">
                    <div class="word-chip" onclick="selectWord(this, 20)">Ù…Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 20)">Ø¨Ù‡</div>
                    <div class="word-chip" onclick="selectWord(this, 20)">Ù…Ø±Ú©Ø² Ø´Ù‡Ø±</div>
                    <div class="word-chip" onclick="selectWord(this, 20)">Ø±ÙØªÛŒÙ…</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence20"></div>
                <button class="btn" onclick="checkSentence('Ù…Ø§ Ø¨Ù‡ Ù…Ø±Ú©Ø² Ø´Ù‡Ø± Ø±ÙØªÛŒÙ…', 20)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(20)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback20"></div>
            </div>

            <div class="exercise">
                <h4>21. Ordnen Sie die WÃ¶rter:</h4>
                <p style="color: #666; margin: 10px 0;">Sie haben das Buch gekauft</p>
                <div class="word-bank" dir="rtl" id="wordbank21">
                    <div class="word-chip" onclick="selectWord(this, 21)">Ø¢Ù†Ù‡Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 21)">Ú©ØªØ§Ø¨</div>
                    <div class="word-chip" onclick="selectWord(this, 21)">Ø±Ø§</div>
                    <div class="word-chip" onclick="selectWord(this, 21)">Ø®Ø±ÛŒØ¯Ù†Ø¯</div>
                </div>
                <div class="sentence-builder" dir="rtl" id="sentence21"></div>
                <button class="btn" onclick="checkSentence('Ø¢Ù†Ù‡Ø§ Ú©ØªØ§Ø¨ Ø±Ø§ Ø®Ø±ÛŒØ¯Ù†Ø¯', 21)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <button class="btn" onclick="clearSentence(21)" style="background: #f44336;">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                <div class="feedback" id="praetfeedback21"></div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">ğŸ” Fehler finden und korrigieren</h3>
            
            <div class="exercise error-correction">
                <h4>22. Finden Sie die Fehler im persischen Satz und korrigieren Sie sie</h4>
                <p style="color: #666; margin: 10px 0;">Deutsch: Sie (Plural) sind gestern ins Kino gegangen und haben einen Film gesehen</p>
                <div class="error-sentence persian" dir="rtl">
                    <span class="error-word wrong" data-exercise="praet_22" onclick="clickErrorWord(this, 'Ø¢Ù†Ù‡Ø§', 'praet_22')">Ø§Ùˆ</span>
                    <span class="error-word" data-exercise="praet_22">Ø¯ÛŒØ±ÙˆØ²</span>
                    <span class="error-word" data-exercise="praet_22">Ø¨Ù‡</span>
                    <span class="error-word" data-exercise="praet_22">Ø³ÛŒÙ†Ù…Ø§</span>
                    <span class="error-word wrong" data-exercise="praet_22" onclick="clickErrorWord(this, 'Ø±ÙØªÙ†Ø¯', 'praet_22')">Ø±ÙØª</span>
                    <span class="error-word" data-exercise="praet_22">Ùˆ</span>
                    <span class="error-word" data-exercise="praet_22">ÙÛŒÙ„Ù…ÛŒ</span>
                    <span class="error-word wrong" data-exercise="praet_22" onclick="clickErrorWord(this, 'Ø¯ÛŒØ¯Ù†Ø¯', 'praet_22')">Ø¯ÛŒØ¯</span>
                </div>
                <p style="color: #f44336; margin: 10px 0; font-size: 0.9em;">ğŸ’¡ Tipp: 3 Fehler! Achten Sie auf Singular vs. Plural</p>
                <div class="feedback" id="feedback_praet_22"></div>
            </div>
        </div>

        <!-- BEREICH 3: PRONOMEN -->
        <div class="content" id="section2">
            <h2>ğŸ‘¤ Teil 3: Pronomen (Ø¶Ù…Ø§ÛŒØ±)</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" id="pronProgress">0%</div>
            </div>

            <div class="score-display">
                Ù†Ù…Ø±Ù‡: <span id="pronScore">0</span> / 11
            </div>

            <!-- GRAMMATIK-LEKTION -->
            <div style="background: #fff3cd; padding: 25px; border-radius: 10px; margin: 30px 0; border-left: 5px solid #667eea;">
                <h3 style="color: #667eea; margin-bottom: 20px;">ğŸ“– Grammatik: Pronomen im Persischen</h3>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea;">Grundregel:</h4>
                    <p style="margin: 10px 0; line-height: 1.8;">
                        âœ… Pronomen bleiben bei <strong>allen grammatikalischen FÃ¤llen gleich</strong> (Nominativ, Akkusativ, Dativ, Genitiv)<br>
                        âœ… Es gibt <strong>zwei Formen</strong>: a) Personalpronomen b) Kurzform als Suffix<br>
                        âœ… Beide Formen sind <strong>gleichwertig</strong><br>
                        âš ï¸ Nur Pronomen als Suffix kÃ¶nnen (logischerweise) <strong>nicht als Subjekt</strong> verwendet werden
                    </p>
                </div>

                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea;">A) Personalpronomen (alle vier FÃ¤lle!)</h4>
                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0; background: white;">
                        <tr style="background: #f8f9fa;">
                            <th style="padding: 10px; border: 1px solid #ddd;">Persisch</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Deutsch (Nom./Akk./Dat./Gen.)</th>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù…Ù†</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">ich, mich, mir, mein</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">ØªÙˆ</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">du, dich, dir, dein</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø§Ùˆ = ÙˆÛŒ</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">er/sie, ihn/sie, ihm/ihr, sein/ihr</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù…Ø§</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">wir, uns, uns, unser</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø´Ù…Ø§</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">ihr/Sie, euch/Sie, euch/Ihnen, euer/Ihr</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø¢Ù†Ù‡Ø§ = Ø§ÛŒØ´Ø§Ù†</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">sie, sie, ihnen, ihr</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: #f8f9fa;"><span class="persian" dir="rtl">Ø§ÛŒÙ† \ Ù‡Ù…ÛŒÙ†</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: #f8f9fa;">Diese/r/s</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: #f8f9fa;"><span class="persian" dir="rtl">Ø¢Ù†\ Ù‡Ù…Ø§Ù†</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: #f8f9fa;">Jene/r/s</td>
                        </tr>
                    </table>
                </div>

                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea;">B) Kurzform als Suffix</h4>
                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0; background: white;">
                        <tr style="background: #f8f9fa;">
                            <th style="padding: 10px; border: 1px solid #ddd;">Person</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Suffix</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Bedeutung</th>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">1. Sg.</td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù€ÙÙ… = Ø§ÙÙ…</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">-m (mein/mich/mir)</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">2. Sg.</td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù€ÙØª = Ø§ÙØª</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">-t (dein/dich/dir)</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">3. Sg.</td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù€ÙØ´ = Ø§ÙØ´</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">-sch (sein/ihr/ihn/sie/ihm/ihr)</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">1. Pl.</td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù€ÙÙ…Ø§Ù† = ÙÙ…Ø§Ù†</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">-mÄn (unser/uns)</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">2. Pl.</td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù€ÙØªØ§Ù† = ÙØªØ§Ù†</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">-tÄn (euer/Ihr/euch/Ihnen)</td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">3. Pl.</td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ù€ÙØ´Ø§Ù† = ÙØ´Ø§Ù†</span></td>
                            <td style="padding: 10px; border: 1px solid #ddd; background: white;">-schÄn (ihr/sie/ihnen)</td>
                        </tr>
                    </table>
                </div>

                <div style="background: #ffe6e6; padding: 20px; border-radius: 8px; margin: 15px 0; border-left: 5px solid #f44336;">
                    <h4 style="color: #f44336;">âš ï¸ WICHTIG: Schreibweise der Suffix-Pronomen</h4>
                    
                    <div style="margin: 15px 0;">
                        <p style="line-height: 1.8; margin: 10px 0;">
                            Bei <strong>Singular-Pronomen (Ø§Ù…ØŒ Ø§ØªØŒ Ø§Ø´)</strong> gibt es spezielle Regeln:<br>
                            â†’ Die Form hÃ¤ngt vom <strong>letzten Buchstaben</strong> des Wortes ab!
                        </p>
                    </div>

                    <div style="background: white; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <h5 style="color: #667eea; margin-bottom: 10px;">ğŸ“‹ Die drei Regeln:</h5>
                        
                        <div style="margin: 10px 0; padding: 10px; background: #ffebee; border-radius: 5px;">
                            <strong>âŒ REGEL 1: Bei Ø¯ Ø° Ø² Ø± Ùˆ Ú˜ â†’ Kurze Form zusammen!</strong><br>
                            â†’ <span class="persian" dir="rtl" style="font-size: 1.3em;">Ø¯ Ø° Ø² Ø± Ùˆ Ú˜</span> (d, áº•, z, r, w, zh)<br>
                            â†’ Diese Buchstaben verbinden sich nicht<br>
                            â†’ <strong>Kurze Form (Ù…ØŒ ØªØŒ Ø´) zusammenschreiben!</strong><br>
                            Beispiele:<br>
                            <span class="persian" dir="rtl" style="font-size: 1.2em;">Ø¨Ø±Ø§Ø¯Ø±Ù…ØŒ Ù…Ø§Ø¯Ø±ØªØŒ Ø±ÙˆØ²Ø´ØŒ Ø®ÙˆØ¯Ø´</span> âœ“ (kurz, zusammen)<br>
                            <span class="persian" dir="rtl" style="font-size: 1.2em; text-decoration: line-through; color: #f44336;">Ø¨Ø±Ø§Ø¯Ø±â€ŒØ§Ù…ØŒ Ù…Ø§Ø¯Ø±â€ŒØ§ØªØŒ Ø±ÙˆØ²â€ŒØ§Ø´</span> âœ— (FALSCH)
                        </div>

                        <div style="margin: 10px 0; padding: 10px; background: #e8f5e9; border-radius: 5px;">
                            <strong>âœ… REGEL 2: Bei stummen Ù‡ â†’ Lange Form getrennt!</strong><br>
                            â†’ <span class="persian" dir="rtl" style="font-size: 1.3em;">Ù‡</span> (hÄ-ye sÄmet / Ù‡â€ŒÛŒ ØµØ§Ù…Øª = stummes he am Wortende)<br>
                            â†’ <strong>Lange Form (Ø§Ù…ØŒ Ø§ØªØŒ Ø§Ø´) mit Halbgeviert trennen!</strong><br>
                            Beispiele:<br>
                            <span class="persian" dir="rtl" style="font-size: 1.2em;">Ø®Ø§Ù†Ù‡â€ŒØ§Ù…ØŒ Ø®Ø§Ù†Ù‡â€ŒØ§ØªØŒ Ø®Ø§Ù†Ù‡â€ŒØ§Ø´ØŒ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡â€ŒÙ…Ø§Ù†</span> âœ“ (lang, getrennt)<br>
                            <span class="persian" dir="rtl" style="font-size: 1.2em; text-decoration: line-through; color: #f44336;">Ø®Ø§Ù†Ù‡Ù…ØŒ Ø®Ø§Ù†Ù‡ØªØŒ Ø®Ø§Ù†Ù‡Ø´</span> âœ— (FALSCH)
                        </div>

                        <div style="margin: 10px 0; padding: 10px; background: #fff3cd; border-radius: 5px;">
                            <strong>ğŸ”„ REGEL 3: Bei allen anderen â†’ Zwei MÃ¶glichkeiten!</strong><br>
                            â†’ Alle anderen Buchstaben (Ø¨ Ù¾ Øª Ø« Ø¬ Ú† Ø­ Ø® Ø³ Ø´ Øµ Ø¶ Ø· Ø¸ Ø¹ Øº Ù Ù‚ Ú© Ú¯ Ù„ Ù… Ù† ÛŒ)<br>
                            â†’ <strong>1ï¸âƒ£ Zusammenschreiben:</strong> Ú©ØªØ§Ø¨Ù…ØŒ Ù…Ø¹Ù„Ù…Ø´ØŒ Ø¯ÙˆØ³ØªØª âœ“<br>
                            â†’ <strong>2ï¸âƒ£ Getrennt schreiben:</strong> Dann lange Form (Ø§Ù…ØŒ Ø§ØªØŒ Ø§Ø´) mit Halbgeviert! Ú©ØªØ§Ø¨â€ŒØ§Ù…ØŒ Ù…Ø¹Ù„Ù…â€ŒØ§Ø´ØŒ Ø¯ÙˆØ³Øªâ€ŒØ§Øª âœ“<br>
                            Beispiele:<br>
                            <span class="persian" dir="rtl" style="font-size: 1.2em;">Ú©ØªØ§Ø¨â€ŒØ§Ù…ØŒ Ù…Ø¹Ù„Ù…â€ŒØ§Ø´ØŒ Ø¯ÙˆØ³Øªâ€ŒØ§Øª</span> âœ“ (getrennt mit alef)<br>
                            <span class="persian" dir="rtl" style="font-size: 1.2em;">Ú©ØªØ§Ø¨Ù…ØŒ Ù…Ø¹Ù„Ù…Ø´ØŒ Ø¯ÙˆØ³ØªØª</span> âœ“ (zusammen)<br>
                            <span class="persian" dir="rtl" style="font-size: 1.2em; text-decoration: line-through; color: #f44336;">Ú©ØªØ§Ø¨Ù…ØŒ Ù…Ø¹Ù„Ù…Ø´</span> âœ— (getrennt OHNE alef - FALSCH!)
                        </div>
                    </div>

                    <div style="background: #f0f7ff; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>ğŸ’¡ Merksatz:</strong><br>
                        <strong style="color: #f44336;">Bei Ø¯ Ø° Ø² Ø± Ùˆ Ú˜:</strong> Nur zusammen mÃ¶glich (Ù…ØŒ ØªØŒ Ø´)!<br>
                        <strong style="color: #4CAF50;">Bei stummen Ù‡:</strong> Nur getrennt mÃ¶glich (Ø§Ù…ØŒ Ø§ØªØŒ Ø§Ø´)!<br>
                        <strong style="color: #ff9800;">Bei allen anderen:</strong> Beides erlaubt! Zusammen (Ù…ØŒ ØªØŒ Ø´) ODER getrennt (Ø§Ù…ØŒ Ø§ØªØŒ Ø§Ø´)
                    </div>

                    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>ğŸ“Œ Bei Plural-Pronomen (Ù…Ø§Ù†ØŒ ØªØ§Ù†ØŒ Ø´Ø§Ù†):</strong><br>
                        Diese haben kein Ø§ am Anfang.<br>
                        Zusammenschreiben ist erlaubt, aber der <strong>Trend geht zur Trennung mit Halbgeviert</strong>.<br>
                        Beispiele:<br>
                        <span class="persian" dir="rtl" style="font-size: 1.2em;">Ú©ØªØ§Ø¨â€ŒÙ…Ø§Ù†ØŒ Ù…Ø¹Ù„Ù…Ø§Ù†â€ŒØ´Ø§Ù†ØŒ Ø®Ø§Ù†Ù‡â€ŒØªØ§Ù†</span> âœ“ (getrennt - Trend!)<br>
                        <span class="persian" dir="rtl" style="font-size: 1.2em;">Ú©ØªØ§Ø¨Ù…Ø§Ù†ØŒ Ù…Ø¹Ù„Ù…Ø§Ù†Ø´Ø§Ù†ØŒ Ø®Ø§Ù†Ù‡ØªØ§Ù†</span> âœ“ (zusammen - auch richtig)
                    </div>
                </div>

                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea;">Beispiele fÃ¼r Kurzpronomen in verschiedenen FÃ¤llen:</h4>
                    
                    <div style="margin: 15px 0; padding: 15px; background: #f0f7ff; border-radius: 8px;">
                        <strong>1ï¸âƒ£ Genitiv (Besitz):</strong>
                        <p class="persian" dir="rtl" style="margin: 10px 0; font-size: 1.2em;">Ø¨Ø±Ø§Ø¯Ø±Ù…ØŒ Ø§ØªØ§Ù‚ØªØŒ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡â€ŒØ§Ø´ØŒ Ø®ÙˆØ§Ø¨Ú¯Ø§Ù‡â€ŒÙ…Ø§Ù†ØŒ Ù…Ø§Ø¯Ø±ØªØ§Ù†ØŒ Ù¾Ø¯Ø±Ø´Ø§Ù†</p>
                        <p style="margin: 5px 0; color: #666;">mein Bruder, dein Zimmer, seine Uni, unser Wohnheim, eure Mutter, ihr Vater</p>
                    </div>

                    <div style="margin: 15px 0; padding: 15px; background: #f0f7ff; border-radius: 8px;">
                        <strong>2ï¸âƒ£ Dativ (mit PrÃ¤position "Ø¨Ù‡" = zu):</strong>
                        <p class="persian" dir="rtl" style="margin: 10px 0; font-size: 1.2em;">Ø¨Ù‡â€ŒØ§Ù…\Ø¨Ù‡Ù…ØŒ Ø¨Ù‡â€ŒØ§Øª\Ø¨Ù‡ØªØŒ Ø¨Ù‡â€ŒØ§Ø´\Ø¨Ù‡Ø´ØŒ Ø¨Ù‡â€ŒÙ…Ø§Ù†\Ø¨Ù‡Ù…Ø§Ù†ØŒ Ø¨Ù‡â€ŒØªØ§Ù†\Ø¨Ù‡ØªØ§Ù†ØŒ Ø¨Ù‡â€ŒØ´Ø§Ù†\Ø¨Ù‡Ø´Ø§Ù†</p>
                        <p style="margin: 5px 0; color: #666;">zu mir, zu dir, zu ihm/ihr, zu uns, zu euch, zu ihnen</p>
                    </div>

                    <div style="margin: 15px 0; padding: 15px; background: #f0f7ff; border-radius: 8px;">
                        <strong>3ï¸âƒ£ Mit PrÃ¤position "Ø§Ø²" (von):</strong>
                        <p class="persian" dir="rtl" style="margin: 10px 0; font-size: 1.2em;">Ø§Ø²Ù…ØŒ Ø§Ø²ØªØŒ Ø§Ø²Ø´ØŒ Ø§Ø²Ù…Ø§Ù†ØŒ Ø§Ø²ØªØ§Ù†ØŒ Ø§Ø²Ø´Ø§Ù†</p>
                        <p style="margin: 5px 0; color: #666;">von mir, von dir, von ihm/ihr, von uns, von euch, von ihnen</p>
                    </div>

                    <div style="margin: 15px 0; padding: 15px; background: #ffe6e6; border-radius: 8px;">
                        <strong>4ï¸âƒ£ Akkusativ (an Verb gehÃ¤ngt):</strong>
                        <p style="margin: 10px 0;">âš ï¸ <strong>Wichtig:</strong> Ist das Akkusativobjekt ein Kurzpronomen, dann hÃ¤ngt man es an das Verb!</p>
                        <p class="persian" dir="rtl" style="margin: 10px 0; font-size: 1.2em;">Ø¯ÛŒØ¯ÛŒâ€ŒØ§Ù…ØŒ Ø¯ÛŒØ¯Ù…â€ŒØ§ØªØŒ Ø¯ÛŒØ¯Ù…â€ŒØ§Ø´ØŒ Ø¯ÛŒØ¯ÛŒâ€ŒÙ…Ø§Ù†ØŒ Ø¯ÛŒØ¯Ù…â€ŒØªØ§Ù†ØŒ Ø¯ÛŒØ¯Ù…â€ŒØ´Ø§Ù†</p>
                        <p style="margin: 5px 0; color: #666;">
                            <strong>Ø¯ÛŒØ¯ÛŒâ€ŒØ§Ù…</strong> = Du sahst mich<br>
                            <strong>Ø¯ÛŒØ¯Ù…â€ŒØ§Øª</strong> = Ich sah dich
                        </p>
                    </div>
                </div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">Ãœbung 1: Paare bilden</h3>
            <p style="margin: 10px 0; color: #666;">Verbinden Sie die persischen WÃ¶rter mit den deutschen Ãœbersetzungen</p>

            <div class="exercise">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div>
                        <h4 style="margin-bottom: 15px;">Persisch:</h4>
                        <div id="persianWords">
                            <div class="pair-word persian" data-id="1" onclick="selectPairWord(this)">Ø®ÙˆØ§Ù‡Ø±Ù…</div>
                            <div class="pair-word persian" data-id="2" onclick="selectPairWord(this)">Ú©ØªØ§Ø¨â€ŒØ§Ø´</div>
                            <div class="pair-word persian" data-id="3" onclick="selectPairWord(this)">Ø®Ø§Ù†Ù‡â€ŒØ§Øª</div>
                            <div class="pair-word persian" data-id="4" onclick="selectPairWord(this)">Ù…Ø§Ø´ÛŒÙ†Ù…Ø§Ù†</div>
                            <div class="pair-word persian" data-id="5" onclick="selectPairWord(this)">Ù…Ø¹Ù„Ù…ØªØ§Ù†</div>
                            <div class="pair-word persian" data-id="6" onclick="selectPairWord(this)">Ù¾Ø¯Ø±Ø´Ø§Ù†</div>
                            <div class="pair-word persian" data-id="7" onclick="selectPairWord(this)">Ø¯ÙˆØ³ØªÙ…</div>
                            <div class="pair-word persian" data-id="8" onclick="selectPairWord(this)">Ù…Ø§Ø¯Ø±Øª</div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 15px;">Deutsch:</h4>
                        <div id="germanWords">
                            <div class="pair-word" data-id="1" onclick="selectPairWord(this)">meine Schwester</div>
                            <div class="pair-word" data-id="2" onclick="selectPairWord(this)">sein/ihr Buch</div>
                            <div class="pair-word" data-id="3" onclick="selectPairWord(this)">dein Haus</div>
                            <div class="pair-word" data-id="4" onclick="selectPairWord(this)">unser Auto</div>
                            <div class="pair-word" data-id="5" onclick="selectPairWord(this)">euer/Ihr Lehrer</div>
                            <div class="pair-word" data-id="6" onclick="selectPairWord(this)">ihr Vater (Plural)</div>
                            <div class="pair-word" data-id="7" onclick="selectPairWord(this)">mein Freund</div>
                            <div class="pair-word" data-id="8" onclick="selectPairWord(this)">deine Mutter</div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <p style="color: #666; margin: 10px 0;">Richtige Paare: <span id="pairScore">0</span> / 8</p>
                    <button class="btn" onclick="resetPairs()">ZurÃ¼cksetzen</button>
                </div>
                
                <div class="feedback" id="pairfeedback"></div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">Ãœbung 2: Schreiben Sie auf Persisch</h3>

            <div class="exercise">
                <h4>1. "Mein Buch" = ?</h4>
                <input type="text" class="input-box persian" id="pron1" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPronMulti(['Ú©ØªØ§Ø¨â€ŒØ§Ù…', 'Ú©ØªØ§Ø¨Ù…'], 1)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback1"></div>
            </div>

            <div class="exercise">
                <h4>2. "Dein Haus" = ?</h4>
                <input type="text" class="input-box persian" id="pron2" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPron('Ø®Ø§Ù†Ù‡â€ŒØ§Øª', 2)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback2"></div>
            </div>

            <div class="exercise">
                <h4>3. "Sein/Ihr Lehrer" = ?</h4>
                <input type="text" class="input-box persian" id="pron3" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPronMulti(['Ù…Ø¹Ù„Ù…â€ŒØ§Ø´', 'Ù…Ø¹Ù„Ù…Ø´'], 3)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback3"></div>
            </div>

            <div class="exercise">
                <h4>4. "Unser Auto" = ?</h4>
                <input type="text" class="input-box persian" id="pron4" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPronMulti(['Ù…Ø§Ø´ÛŒÙ†Ù…Ø§Ù†', 'Ù…Ø§Ø´ÛŒÙ†â€ŒÙ…Ø§Ù†'], 4)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback4"></div>
            </div>

            <div class="exercise">
                <h4>5. "Euer/Ihr Unterricht" = ?</h4>
                <input type="text" class="input-box persian" id="pron5" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPronMulti(['Ú©Ù„Ø§Ø³ØªØ§Ù†', 'Ú©Ù„Ø§Ø³â€ŒØªØ§Ù†'], 5)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback5"></div>
            </div>

            <div class="exercise">
                <h4>6. "Ihr (Plural) Vater" = ?</h4>
                <input type="text" class="input-box persian" id="pron6" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPron('Ù¾Ø¯Ø±Ø´Ø§Ù†', 6)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback6"></div>
            </div>

            <div class="exercise">
                <h4>7. "Meine Schwester" = ?</h4>
                <input type="text" class="input-box persian" id="pron7" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPron('Ø®ÙˆØ§Ù‡Ø±Ù…', 7)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback7"></div>
            </div>

            <div class="exercise">
                <h4>8. "Deine Mutter" = ?</h4>
                <input type="text" class="input-box persian" id="pron8" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPron('Ù…Ø§Ø¯Ø±Øª', 8)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback8"></div>
            </div>

            <div class="exercise">
                <h4>9. "Sein/Ihr Bruder" = ?</h4>
                <input type="text" class="input-box persian" id="pron9" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPron('Ø¨Ø±Ø§Ø¯Ø±Ø´', 9)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback9"></div>
            </div>

            <div class="exercise">
                <h4>10. "Unsere Familie" = ?</h4>
                <input type="text" class="input-box persian" id="pron10" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPron('Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡â€ŒÙ…Ø§Ù†', 10)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="pronfeedback10"></div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">ğŸ” Fehler finden und korrigieren</h3>
            
            <div class="exercise error-correction">
                <h4>11. Finden Sie die Fehler im persischen Satz und korrigieren Sie sie</h4>
                <p style="color: #666; margin: 10px 0;">Deutsch: Mein Lehrer hat mir sein Buch gegeben</p>
                <div class="error-sentence persian" dir="rtl">
                    <span class="error-word wrong" data-exercise="pron_11" onclick="clickErrorWord(this, 'Ù…Ø¹Ù„Ù…â€ŒØ§Ù…', 'pron_11')">Ù…Ø¹Ù„Ù…Øª</span>
                    <span class="error-word" data-exercise="pron_11">Ú©ØªØ§Ø¨â€ŒØ§Ø´</span>
                    <span class="error-word" data-exercise="pron_11">Ø±Ø§</span>
                    <span class="error-word" data-exercise="pron_11">Ø¨Ù‡</span>
                    <span class="error-word wrong" data-exercise="pron_11" onclick="clickErrorWord(this, 'Ù…Ù†', 'pron_11')">ØªÙˆ</span>
                    <span class="error-word" data-exercise="pron_11">Ø¯Ø§Ø¯</span>
                </div>
                <p style="color: #f44336; margin: 10px 0; font-size: 0.9em;">ğŸ’¡ Tipp: 2 Fehler! Pronomen-Bedeutung und Personalpronomen</p>
                <div class="feedback" id="feedback_pron_11"></div>
            </div>
        </div>

        <!-- BEREICH 4: PLURAL -->
        <div class="content" id="section3">
            <h2>ğŸ”¢ Teil 4: Plural (Ø¬ÙÙ…Ø¹)</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" id="plurProgress">0%</div>
            </div>

            <div class="score-display">
                Ù†Ù…Ø±Ù‡: <span id="plurScore">0</span> / 11
            </div>

            <!-- GRAMMATIK-LEKTION -->
            <div style="background: #fff3cd; padding: 25px; border-radius: 10px; margin: 30px 0; border-left: 5px solid #667eea;">
                <h3 style="color: #667eea; margin-bottom: 20px;">ğŸ“– Grammatik: Pluralbildung & Definit/Indefinit</h3>
                
                <div style="background: #ffe6e6; padding: 20px; border-radius: 8px; margin: 15px 0; border: 2px solid #f44336;">
                    <h4 style="color: #c62828;">âš ï¸ WICHTIGSTE REGEL:</h4>
                    <p style="margin: 10px 0; font-size: 1.2em; font-weight: bold;">
                        Die Pluralform wird NUR fÃ¼r definite/bestimmte Nomen verwendet!
                    </p>
                    <p style="margin: 10px 0;">
                        <span class="persian" dir="rtl">Ú©ØªØ§Ø¨â€ŒÙ‡Ø§</span> = die BÃ¼cher (bestimmt)<br>
                        <span class="persian" dir="rtl">Ú©ØªØ§Ø¨</span> = BÃ¼cher (unbestimmt, aus Kontext klar)
                    </p>
                </div>

                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea;">A) Pluralbildung - 3 Kategorien:</h4>
                    
                    <div style="margin: 20px 0;">
                        <h5 style="color: #764ba2; margin: 15px 0;">1ï¸âƒ£ Pluralbildung mit <span class="persian" dir="rtl">Ù‡Ø§</span>:</h5>
                        <p style="margin: 10px 0;">âœ… <span class="persian" dir="rtl">Ù‡Ø§</span> ist zulÃ¤ssiges Suffix fÃ¼r <strong>fast alle Substantive</strong></p>
                        <div style="background: #f0f7ff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p class="persian" dir="rtl" style="font-size: 1.2em; margin: 10px 0;">Ø¢Ø¯Ù…â€ŒÙ‡Ø§ØŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ØŒ Ø¯Ø®ØªØ±â€ŒÙ‡Ø§</p>
                            <p style="color: #666; margin: 5px 0;">Menschen, BÃ¼cher, MÃ¤dchen</p>
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <h5 style="color: #764ba2; margin: 15px 0;">2ï¸âƒ£ Pluralbildung mit <span class="persian" dir="rtl">Ø§Ù†</span>:</h5>
                        <p style="margin: 10px 0;">âœ… FÃ¼r: <strong>Personen, Berufe, Tiere und Pflanzen, KÃ¶rperteile</strong></p>
                        <div style="background: #f0f7ff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p class="persian" dir="rtl" style="font-size: 1.2em; margin: 10px 0;">Ù…Ø¹Ù„Ù…Ø§Ù†ØŒ Ù…Ù‡Ù†Ø¯Ø³Ø§Ù†ØŒ Ù…Ø§Ø¯Ø±Ø§Ù†ØŒ Ù¾Ø¯Ø±Ø§Ù†ØŒ Ø®ÙˆØ§Ù‡Ø±Ø§Ù†ØŒ Ø¯Ø³ØªØ§Ù†ØŒ Ú†Ø´Ù…Ø§Ù†</p>
                            <p style="color: #666; margin: 5px 0;">Lehrer, Ingenieure, MÃ¼tter, VÃ¤ter, Schwestern, HÃ¤nde, Augen</p>
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <h5 style="color: #764ba2; margin: 15px 0;">3ï¸âƒ£ Arabische Pluralformen:</h5>
                        <p style="margin: 10px 0;">âœ… UnregelmÃ¤ÃŸig, hÃ¤ufig in <strong>Bildungssprache</strong></p>
                        <p style="margin: 10px 0;">âš ï¸ Die Endung <span class="persian" dir="rtl">Ø§Øª</span> gehÃ¶rt hierzu</p>
                        <div style="background: #f0f7ff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p class="persian" dir="rtl" style="font-size: 1.2em; margin: 10px 0;">Ú©ÙØªÙØ¨ = Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ØŒ Ø¯Ø±ÙˆØ³ = Ø¯Ø±Ø³â€ŒÙ‡Ø§ØŒ Ø³Ø¨Ø²ÛŒØ¬Ø§Øª = GemÃ¼seØŒ Ø§ÙØ·Ù‘Ù„Ø§Ø¹Ø§Øª = Information(en)</p>
                        </div>
                    </div>
                </div>

                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea;">B) Definit und Indefinit:</h4>
                    
                    <div style="margin: 15px 0; padding: 15px; background: #e8f5e9; border-radius: 8px;">
                        <p style="margin: 10px 0;">âœ… Substantive sind <strong>an sich definit</strong></p>
                        <p style="margin: 10px 0;">âœ… Um indefinit (ein/eine) zu bilden:</p>
                        <ul style="margin: 10px 0; padding-left: 30px;">
                            <li><span class="persian" dir="rtl">ÛŒÚ©</span> VOR dem Substantiv ODER</li>
                            <li><span class="persian" dir="rtl">ÛŒ</span> als Suffix hinzufÃ¼gen</li>
                        </ul>
                    </div>

                    <div style="margin: 15px 0; padding: 15px; background: #fff3cd; border-radius: 8px;">
                        <h5 style="color: #667eea; margin: 10px 0;">âš ï¸ Besonderheiten bei Endungen:</h5>
                        <ul style="margin: 10px 0; padding-left: 30px; line-height: 2;">
                            <li>Endet mit <span class="persian" dir="rtl">ÙˆØŒ Ø§</span> â†’ Suffix <span class="persian" dir="rtl">ÛŒÙ€Ù€Ù€Ù€ÛŒ</span> (statt <span class="persian" dir="rtl">ÛŒ</span>)</li>
                            <li>Endet mit <span class="persian" dir="rtl">Ù€Ù€Ù‡</span> â†’ Suffix <span class="persian" dir="rtl">Ø§ÛŒ</span> (statt <span class="persian" dir="rtl">ÛŒ</span>)</li>
                        </ul>
                    </div>

                    <h5 style="color: #667eea; margin: 20px 0 10px 0;">ğŸ“Š Ãœbersichtstabelle:</h5>
                    <div style="background: white; padding: 15px; border-radius: 8px; overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; margin: 0;">
                            <tr style="background: #f8f9fa;">
                                <th style="padding: 10px; border: 1px solid #ddd;"></th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Singular/Bestimmt</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Singular/Unbestimmt</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Plural/Bestimmt</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Plural/Unbestimmt</th>
                            </tr>
                            <tr style="background: white;">
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><strong>Frau</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ù†</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ù†Ù€Ù€ÛŒØŒ ÛŒÚ© Ø²Ù†</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ù†Ø§Ù†ØŒ Ø²Ù†â€ŒÙ‡Ø§</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ù†</span></td>
                            </tr>
                            <tr style="background: white;">
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><strong>Buch</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ú©ØªØ§Ø¨</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ú©ØªØ§Ø¨Ù€Ù€ÛŒØŒ ÛŒÚ© Ú©ØªØ§Ø¨</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ú©ØªØ§Ø¨â€ŒÙ‡Ø§</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ú©ØªØ§Ø¨</span></td>
                            </tr>
                            <tr style="background: white;">
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><strong>StraÃŸe</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®ÛŒØ§Ø¨Ø§Ù†</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®ÛŒØ§Ø¨Ø§Ù†Ù€Ù€ÛŒØŒ ÛŒÚ© Ø®ÛŒØ§Ø¨Ø§Ù†</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®ÛŒØ§Ø¨Ø§Ù†â€ŒÙ‡Ø§</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®ÛŒØ§Ø¨Ø§Ù†</span></td>
                            </tr>
                            <tr style="background: white;">
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><strong>Knie</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ø§Ù†Ùˆ</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ø§Ù†ÙˆÛŒÙ€Ù€ÛŒØŒ ÛŒÚ© Ø²Ø§Ù†Ùˆ</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ø§Ù†Ùˆâ€ŒÙ‡Ø§ØŒ Ø²Ø§Ù†ÙˆØ§Ù†</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø²Ø§Ù†Ùˆ</span></td>
                            </tr>
                            <tr style="background: white;">
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><strong>Haus</strong></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®Ø§Ù†Ù‡</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®Ø§Ù†Ù‡â€ŒØ§ÛŒØŒ ÛŒÚ© Ø®Ø§Ù†Ù‡</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§</span></td>
                                <td style="padding: 10px; border: 1px solid #ddd; background: white;"><span class="persian" dir="rtl">Ø®Ø§Ù†Ù‡</span></td>
                            </tr>
                        </table>
                    </div>

                    <div style="margin: 15px 0; padding: 15px; background: #f0f7ff; border-radius: 8px;">
                        <strong>ğŸ’¡ Merksatz:</strong>
                        <p style="margin: 10px 0;">
                            <span class="persian" dir="rtl">Ø²Ø§Ù†Ùˆ</span> endet mit <span class="persian" dir="rtl">Ùˆ</span> â†’ Indefinit: <span class="persian" dir="rtl">Ø²Ø§Ù†ÙˆÛŒÙ€Ù€ÛŒ</span> (mit <span class="persian" dir="rtl">ÛŒÙ€Ù€Ù€Ù€ÛŒ</span>)<br>
                            <span class="persian" dir="rtl">Ø®Ø§Ù†Ù‡</span> endet mit <span class="persian" dir="rtl">Ù‡</span> â†’ Indefinit: <span class="persian" dir="rtl">Ø®Ø§Ù†Ù‡â€ŒØ§ÛŒ</span> (mit <span class="persian" dir="rtl">Ø§ÛŒ</span>)
                        </p>
                    </div>
                </div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">Ãœbungen:</h3>

            <div class="exercise">
                <h4>1. Bilde den Plural: <span class="persian" dir="rtl">Ú©ØªØ§Ø¨</span></h4>
                <input type="text" class="input-box persian" id="plur1" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPlurMulti(['Ú©ØªØ§Ø¨â€ŒÙ‡Ø§', 'Ú©ØªØ§Ø¨Ù‡Ø§'], 1)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="plurfeedback1"></div>
            </div>

            <div class="exercise">
                <h4>2. Bilde den Plural: <span class="persian" dir="rtl">Ù…Ø¹Ù„Ù…</span> (Lehrer - Person)</h4>
                <p style="color: #666; margin: 5px 0;">Zwei MÃ¶glichkeiten! Beide mit ØŒ trennen</p>
                <input type="text" class="input-box persian" id="plur2" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPlurMulti(['Ù…Ø¹Ù„Ù…â€ŒÙ‡Ø§', 'Ù…Ø¹Ù„Ù…Ø§Ù†', 'Ù…Ø¹Ù„Ù…Ù‡Ø§'], 2)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="plurfeedback2"></div>
            </div>

            <div class="exercise">
                <h4>3. Bilde den Plural: <span class="persian" dir="rtl">Ø®Ø§Ù†Ù‡</span></h4>
                <input type="text" class="input-box persian" id="plur3" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPlur('Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§', 3)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="plurfeedback3"></div>
            </div>

            <div class="exercise">
                <h4>4. Ist "<span class="persian" dir="rtl">Ú©ØªØ§Ø¨</span>" (ohne Ù‡Ø§) Singular oder Plural?</h4>
                <div class="option" onclick="checkPlurMC(this, false, 4)">
                    Nur Singular
                </div>
                <div class="option" onclick="checkPlurMC(this, true, 4)">
                    Kann beides sein - aus Kontext klar
                </div>
                <div class="option" onclick="checkPlurMC(this, false, 4)">
                    Nur Plural
                </div>
                <div class="feedback" id="plurfeedback4"></div>
            </div>

            <div class="exercise">
                <h4>5. Welche Form ist DEFINIT/bestimmt?</h4>
                <div class="option" onclick="checkPlurMC(this, true, 5)">
                    <span class="persian" dir="rtl">Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†</span>
                </div>
                <div class="option" onclick="checkPlurMC(this, false, 5)">
                    <span class="persian" dir="rtl">Ø¯Ø§Ù†Ø´Ø¬Ùˆ</span> (kann unbestimmt sein)
                </div>
                <div class="option" onclick="checkPlurMC(this, false, 5)">
                    <span class="persian" dir="rtl">ÛŒÚ© Ø¯Ø§Ù†Ø´Ø¬Ùˆ</span>
                </div>
                <div class="feedback" id="plurfeedback5"></div>
            </div>

            <div class="exercise">
                <h4>6. Bilde den Plural: <span class="persian" dir="rtl">Ø¯Ø§Ù†Ø´Ø¬Ùˆ</span></h4>
                <input type="text" class="input-box persian" id="plur6" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPlurMulti(['Ø¯Ø§Ù†Ø´Ø¬Ùˆâ€ŒÙ‡Ø§', 'Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†', 'Ø¯Ø§Ù†Ø´Ø¬ÙˆÙ‡Ø§'], 6)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="plurfeedback6"></div>
            </div>

            <div class="exercise">
                <h4>7. Gibt es "unbestimmten Plural" im Persischen?</h4>
                <div class="option" onclick="checkPlurMC(this, false, 7)">
                    <span class="persian" dir="rtl">Ja, z.B. Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒÛŒ</span>
                </div>
                <div class="option" onclick="checkPlurMC(this, true, 7)">
                    Nein, Plural ist immer bestimmt
                </div>
                <div class="feedback" id="plurfeedback7"></div>
            </div>

            <div class="exercise">
                <h4>8. Bilde den Plural: <span class="persian" dir="rtl">Ø¨Ø±Ø§Ø¯Ø±</span></h4>
                <p style="color: #666; margin: 5px 0;">Zwei MÃ¶glichkeiten!</p>
                <input type="text" class="input-box persian" id="plur8" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPlurMulti(['Ø¨Ø±Ø§Ø¯Ø±â€ŒÙ‡Ø§ØŒ Ø¨Ø±Ø§Ø¯Ø±Ø§Ù†', 'Ø¨Ø±Ø§Ø¯Ø±Ø§Ù†ØŒ Ø¨Ø±Ø§Ø¯Ø±â€ŒÙ‡Ø§'], 8)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="plurfeedback8"></div>
            </div>

            <div class="exercise">
                <h4>9. Bilde den Plural: <span class="persian" dir="rtl">Ø¯Ø³Øª</span> (Hand - KÃ¶rperteil)</h4>
                <p style="color: #666; margin: 5px 0;">Zwei MÃ¶glichkeiten!</p>
                <input type="text" class="input-box persian" id="plur9" placeholder="Ù¾Ø§Ø³Ø®">
                <button class="btn" onclick="checkPlurMulti(['Ø¯Ø³Øªâ€ŒÙ‡Ø§ØŒ Ø¯Ø³ØªØ§Ù†', 'Ø¯Ø³ØªØ§Ù†ØŒ Ø¯Ø³Øªâ€ŒÙ‡Ø§'], 9)">Ø¨Ø±Ø±Ø³ÛŒ</button>
                <div class="feedback" id="plurfeedback9"></div>
            </div>

            <div class="exercise">
                <h4>10. Was bedeutet "<span class="persian" dir="rtl">Ú©ØªØ§Ø¨â€ŒÙ‡Ø§</span>"?</h4>
                <div class="option" onclick="checkPlurMC(this, false, 10)">
                    Ein Buch
                </div>
                <div class="option" onclick="checkPlurMC(this, true, 10)">
                    Die BÃ¼cher (bestimmt)
                </div>
                <div class="option" onclick="checkPlurMC(this, false, 10)">
                    BÃ¼cher (unbestimmt)
                </div>
                <div class="feedback" id="plurfeedback10"></div>
            </div>

            <h3 style="color: #667eea; margin: 40px 0 20px 0;">ğŸ” Fehler finden und korrigieren</h3>
            
            <div class="exercise error-correction">
                <h4>11. Finden Sie die Fehler im persischen Satz und korrigieren Sie sie</h4>
                <p style="color: #666; margin: 10px 0;">Deutsch: Die Lehrer haben den SchÃ¼lern die BÃ¼cher gegeben</p>
                <div class="error-sentence persian" dir="rtl">
                    <span class="error-word wrong" data-exercise="plur_11" onclick="clickErrorWord(this, 'Ù…Ø¹Ù„Ù…Ø§Ù†', 'plur_11')">Ù…Ø¹Ù„Ù…</span>
                    <span class="error-word wrong" data-exercise="plur_11" onclick="clickErrorWord(this, 'Ú©ØªØ§Ø¨â€ŒÙ‡Ø§', 'plur_11')">Ú©ØªØ§Ø¨</span>
                    <span class="error-word" data-exercise="plur_11">Ø±Ø§</span>
                    <span class="error-word" data-exercise="plur_11">Ø¨Ù‡</span>
                    <span class="error-word wrong" data-exercise="plur_11" onclick="clickErrorWord(this, 'Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù†', 'plur_11')">Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²</span>
                    <span class="error-word" data-exercise="plur_11">Ø¯Ø§Ø¯Ù†Ø¯</span>
                </div>
                <p style="color: #f44336; margin: 10px 0; font-size: 0.9em;">ğŸ’¡ Tipp: 3 Fehler! Alle sollten Plural sein</p>
                <div class="feedback" id="feedback_plur_11"></div>
            </div>
        </div>

        <!-- BEREICH 5: QUIZ/TEST -->
        <div class="content" id="section4">
            <h2>ğŸ¯ Teil 5: Abschlusstest / Hausaufgabe</h2>
            
            <div id="quizStart">
                <div style="text-align: center; padding: 40px;">
                    <h3>26 gemischte Aufgaben</h3>
                    <p style="margin: 20px 0;">Bitte gib deinen Namen ein:</p>
                    <input type="text" id="studentName" class="input-box" placeholder="Dein Name" style="max-width: 400px; margin: 20px auto;">
                    <br>
                    <button class="btn" onclick="startQuiz()">Test starten ğŸš€</button>
                </div>
            </div>

            <div id="quizContent" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="quizProgress">0 / 25</div>
                </div>

                <div class="score-display">
                    Ù†Ù…Ø±Ù‡: <span id="quizScore">0</span> / 25
                </div>

                <div id="quizQuestions">
                    <!-- Quiz-Fragen werden dynamisch generiert -->
                </div>

                <button class="btn" onclick="finishQuiz()" id="finishQuizBtn" style="display: none;">Test beenden & Zertifikat</button>
            </div>

            <!-- Review-Seite -->
            <div id="quizReview" style="display: none;">
                <div style="max-width: 900px; margin: 0 auto; padding: 20px;">
                    <h2 style="color: #667eea; text-align: center;">ğŸ“Š Deine Ergebnisse</h2>
                    <div style="text-align: center; margin: 20px 0;">
                        <h3>Score: <span id="reviewScore">0</span>/26 (<span id="reviewPercentage">0</span>%)</h3>
                    </div>
                    
                    <div id="reviewContent" style="margin: 30px 0;">
                        <!-- Wird dynamisch gefÃ¼llt -->
                    </div>
                    
                    <div style="text-align: center; margin: 30px 0;">
                        <button class="btn" onclick="showCertificate()" style="font-size: 1.2em; padding: 15px 30px;">
                            âœ“ Weiter zum Zertifikat
                        </button>
                    </div>
                </div>
            </div>

            <div id="quizResult" style="display: none;">
                <div class="quiz-result">
                    <div class="certificate" id="certificate">
                        <h2>ğŸ“ Ú¯ÙˆØ§Ù‡ÛŒâ€ŒÙ†Ø§Ù…Ù‡</h2>
                        <h2>Certificate of Completion</h2>
                        <p style="margin: 20px 0;">This certifies that</p>
                        <div class="name" id="certName">Student Name</div>
                        <p style="margin: 20px 0;">has successfully completed</p>
                        <h3 style="color: #667eea;"><span class="persian" dir="rtl">Ú¯ÙØªÚ¯ÙˆÛŒ Ø³ÛŒÙ†Ø§ Ùˆ ØªØ±Ø§Ù†Ù‡</span></h3>
                        <p style="margin: 10px 0; font-size: 0.9em;">Goftogu-ye Sina va Taraneh</p>
                        <p style="margin: 20px 0;">Persisch Grammatik & Ãœbungen</p>
                        <div class="score" id="certScore">Score: 0/25</div>
                        <p style="margin: 20px 0; color: #666;">Datum: <span id="certDate"></span></p>
                    </div>
                    <button class="btn" onclick="downloadCertificate()">ğŸ“¥ Zertifikat als PNG herunterladen</button>
                    <button class="btn" onclick="location.reload()" style="background: #764ba2;">ğŸ”„ Lektion wiederholen</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        // Global Variables
        let currentSection = 0;
        let textScore = 0;
        let praetScore = 0;
        let praetAnswered = new Set();
        let pronScore = 0;
        let pronAnswered = new Set();
        let plurScore = 0;
        let plurAnswered = new Set();
        let quizScore = 0;
        let quizAnswered = new Set();
        
        // Paare-bilden
        let selectedPair = null;
        let matchedPairs = new Set();
        let pairScore = 0;

        // Vokabeln
        const vocab = [
            {persian: 'Ù…ÙÙ…Ù†ÙˆÙ†', german: 'Danke'},
            {persian: 'Ø®ÙˆØ¨', german: 'gut'},
            {persian: 'Ú©ÙØ¬Ø§', german: 'wo'},
            {persian: 'ÛŒØ§Ø²Ø¯ÙÙ‡', german: '11'},
            {persian: 'Ø¯ÙˆØ§Ø²Ø¯ÙÙ‡', german: '12'},
            {persian: 'Ù‡ÙÙ…Ú©ÙÙ„Ø§Ø³ÛŒ', german: 'Kommilitone/in'},
            {persian: 'Ù‚ÙØ±Ø§Ø± Ø¯Ø§Ø´ØªÙ†', german: 'verabredet sein'},
            {persian: 'Ø³Ø§Ù„ÙÙ†Ù ØºÙØ°Ø§Ø®ÙˆØ±ÛŒ', german: 'Speisesaal'},
            {persian: 'Ù†Ø§Ù‡Ø§Ø±', german: 'Mittagessen'},
            {persian: 'Ø´Ø§Ù…', german: 'Abendessen'},
            {persian: 'Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†', german: 'Sandwich'},
            {persian: 'Ø´ÙØ±ÙˆØ¹ Ø´ÙØ¯Ù†', german: 'beginnen'},
            {persian: 'ØªÙÙ…Ø§Ù… Ø´Ø¯Ù†', german: 'enden'},
            {persian: 'Ù‡ÙÙ…', german: 'auch'},
            {persian: 'Ø¨Ø§ Ù‡ÙÙ…', german: 'zusammen'},
            {persian: 'Ø²ÙˆØ¯', german: 'frÃ¼h/bald'},
            {persian: 'Ú†Ù‡', german: 'was'},
            {persian: 'Ú†ÙÙ†Ø¯', german: 'wie viel/wann'},
            {persian: 'ØªÙÙ†Ù‡Ø§', german: 'allein'},
            {persian: 'Ù…ÙØ±Ú©ÙØ²', german: 'Zentrum'},
            {persian: 'Ø´ÙÙ‡Ø±', german: 'Stadt'},
            {persian: 'Ù¾ÛŒØ´', german: 'bei'},
            {persian: 'Ø¢Ù†', german: 'das/jenes'},
            {persian: 'Ø¢Ù†Ø¬Ø§', german: 'dort'},
            {persian: 'Ø¯ÙØ±ÙØ³Øª Ú©Ø±Ø¯Ù†', german: 'machen/zubereiten'},
            {persian: 'Ø³ÙÙØ§Ø±Ø´ Ø¯Ø§Ø¯Ù†', german: 'bestellen'},
            {persian: 'Ø¢Ù†Ù„Ø§ÛŒÙ†', german: 'online'},
            {persian: 'ÙØ±Ø¯Ø§', german: 'morgen'},
            {persian: 'ØªØ§', german: 'bis'}
        ];

        let currentCardIndex = 0;
        let isCardFlipped = false;

        // Initialize
        // Randomisiere WÃ¶rter in word-banks
        function shuffleWordBanks() {
            // Aufgaben 11-20 haben word-banks
            for (let i = 11; i <= 20; i++) {
                const wordbank = document.getElementById('wordbank' + i);
                if (!wordbank) continue;
                
                const words = Array.from(wordbank.children);
                
                // Fisher-Yates Shuffle
                for (let j = words.length - 1; j > 0; j--) {
                    const k = Math.floor(Math.random() * (j + 1));
                    wordbank.insertBefore(words[k], words[j]);
                }
            }
            
            // Shuffle Paare-bilden Ãœbung
            const persianWords = document.getElementById('persianWords');
            const germanWords = document.getElementById('germanWords');
            
            if (persianWords) {
                const words = Array.from(persianWords.children);
                for (let j = words.length - 1; j > 0; j--) {
                    const k = Math.floor(Math.random() * (j + 1));
                    persianWords.insertBefore(words[k], words[j]);
                }
            }
            
            if (germanWords) {
                const words = Array.from(germanWords.children);
                for (let j = words.length - 1; j > 0; j--) {
                    const k = Math.floor(Math.random() * (j + 1));
                    germanWords.insertBefore(words[k], words[j]);
                }
            }
        }

        window.onload = function() {
            showCard(0);
            shuffleWordBanks(); // Randomisiere WÃ¶rter in Ordnen-Aufgaben
        };

        function showCard(index) {
            const container = document.getElementById('vocabStack');
            const word = vocab[index];
            
            container.innerHTML = `
                <div class="vocab-card" onclick="flipCard()" style="cursor: pointer; margin: 0;">
                    <div class="persian">${word.persian}</div>
                </div>
            `;
            
            isCardFlipped = false;
            currentCardIndex = index;
            
            // Update counter
            document.getElementById('cardCounter').textContent = `${index + 1} / ${vocab.length}`;
            
            // Update button states
            document.getElementById('prevBtn').disabled = (index === 0);
            document.getElementById('nextBtn').disabled = (index === vocab.length - 1);
        }

        function flipCard() {
            const card = document.querySelector('#vocabStack .vocab-card');
            const word = vocab[currentCardIndex];
            
            if (!isCardFlipped) {
                card.innerHTML = `<div>${word.german}</div>`;
                card.classList.add('flipped');
                isCardFlipped = true;
            } else {
                card.innerHTML = `<div class="persian">${word.persian}</div>`;
                card.classList.remove('flipped');
                isCardFlipped = false;
            }
        }

        function nextCard() {
            if (currentCardIndex < vocab.length - 1) {
                showCard(currentCardIndex + 1);
            }
        }

        function previousCard() {
            if (currentCardIndex > 0) {
                showCard(currentCardIndex - 1);
            }
        }

        function showSection(index) {
            const sections = document.querySelectorAll('.content');
            const buttons = document.querySelectorAll('.nav-btn');
            
            sections.forEach(s => s.classList.remove('active'));
            buttons.forEach(b => b.classList.remove('active'));
            
            sections[index].classList.add('active');
            buttons[index].classList.add('active');
            
            currentSection = index;
        }

        // FEHLERKORREKTUR-ÃœBUNGEN
        let currentErrorWord = null;
        let errorFixedCount = {};

        function clickErrorWord(element, correct, exerciseId) {
            if (element.classList.contains('fixed')) return;
            
            currentErrorWord = {element, correct, exerciseId};
            element.classList.add('clicked');
            
            // Zeige Popup
            document.getElementById('errorPopup').classList.add('show');
            document.getElementById('errorOverlay').classList.add('show');
            document.getElementById('errorInput').value = '';
            document.getElementById('errorInput').focus();
            document.getElementById('errorCurrentWord').textContent = element.textContent;
        }

        function submitCorrection() {
            if (!currentErrorWord) return;
            
            const {element, correct, exerciseId} = currentErrorWord;
            const input = document.getElementById('errorInput');
            const answer = input.value.trim();
            
            // Vergleich ohne Leerzeichen
            if (normalizeSpaces(answer) === normalizeSpaces(correct)) {
                element.textContent = correct;
                element.classList.remove('wrong', 'clicked');
                element.classList.add('fixed');
                
                // ZÃ¤hle korrigierte Fehler
                if (!errorFixedCount[exerciseId]) errorFixedCount[exerciseId] = 0;
                errorFixedCount[exerciseId]++;
                
                // PrÃ¼fe ob alle Fehler korrigiert
                const totalErrors = document.querySelectorAll(`.error-word.wrong[data-exercise="${exerciseId}"]`).length;
                const fixedErrors = document.querySelectorAll(`.error-word.fixed[data-exercise="${exerciseId}"]`).length;
                
                if (fixedErrors === totalErrors) {
                    // Alle Fehler korrigiert!
                    const section = exerciseId.split('_')[0]; // z.B. "praet" aus "praet_21"
                    
                    if (section === 'praet') {
                        praetScore++;
                        updatePraetProgress();
                    } else if (section === 'pron') {
                        pronScore++;
                        updatePronProgress();
                    } else if (section === 'plur') {
                        plurScore++;
                        updatePlurProgress();
                    } else if (section === 'quiz') {
                        quizScore++;
                        updateQuizProgress();
                    }
                    
                    showFeedback('feedback_' + exerciseId, true, 'ğŸ‰ Ø¹Ø§Ù„ÛŒ! Alle Fehler korrigiert!');
                }
                
                closeErrorPopup();
            } else {
                showFeedback('errorFeedback', false, 'âœ— Nicht ganz richtig, versuche es nochmal');
            }
        }

        function closeErrorPopup() {
            document.getElementById('errorPopup').classList.remove('show');
            document.getElementById('errorOverlay').classList.remove('show');
            if (currentErrorWord) {
                currentErrorWord.element.classList.remove('clicked');
            }
            currentErrorWord = null;
            document.getElementById('errorFeedback').classList.remove('show');
        }

        // Enter-Taste im Popup
        document.addEventListener('DOMContentLoaded', function() {
            const errorInput = document.getElementById('errorInput');
            if (errorInput) {
                errorInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        submitCorrection();
                    }
                });
            }
        });

        // TEXT FRAGEN
        function checkTextAnswer(element, isCorrect, num) {
            if (document.getElementById('textfeedback' + num).classList.contains('show')) return;
            
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            if (isCorrect) {
                element.classList.add('correct');
                textScore++;
                showFeedback('textfeedback' + num, true, 'âœ“ Ø¯Ø±Ø³Øª!');
            } else {
                element.classList.add('wrong');
                showFeedback('textfeedback' + num, false, 'âœ— ØºÙ„Ø·! Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª Ø¹Ù„Ø§Ù…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡.');
                options.forEach(opt => {
                    if (opt.onclick.toString().includes('true')) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            document.getElementById('textScore').textContent = textScore;
        }

        // HILFSFUNKTION: Normalisiert Text fÃ¼r Vergleich (entfernt alle Leerzeichen)
        function normalizeSpaces(text) {
            return text.replace(/\s+/g, '');
        }

        // PRÃ„TERITUM
        function checkPraet(correct, num) {
            if (praetAnswered.has(num)) return;
            
            const input = document.getElementById('praet' + num);
            const answer = input.value.trim();
            
            // Handle multiple verbs (with comma)
            const correctAnswers = correct.includes('ØŒ') ? correct.split('ØŒ').map(v => v.trim()) : [correct];
            const userAnswers = answer.includes('ØŒ') ? answer.split('ØŒ').map(v => v.trim()) : [answer];
            
            let isCorrect = false;
            if (correctAnswers.length === userAnswers.length) {
                // Vergleich ohne Leerzeichen
                isCorrect = correctAnswers.every((c, i) => normalizeSpaces(c) === normalizeSpaces(userAnswers[i]));
            } else {
                // Vergleich ohne Leerzeichen
                isCorrect = normalizeSpaces(answer) === normalizeSpaces(correct);
            }
            
            if (isCorrect) {
                praetScore++;
                showFeedback('praetfeedback' + num, true, 'âœ“ Ø¹Ø§Ù„ÛŒ!');
                input.style.borderColor = '#4CAF50';
            } else {
                showFeedback('praetfeedback' + num, false, 'âœ— Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª: ' + correct);
                input.style.borderColor = '#f44336';
            }
            
            praetAnswered.add(num);
            input.disabled = true;
            updatePraetProgress();
        }

        function selectWord(element, sentenceNum) {
            if (praetAnswered.has(sentenceNum)) return;
            
            const sentence = document.getElementById('sentence' + sentenceNum);
            const word = element.textContent;
            
            // Add word to sentence
            const wordChip = document.createElement('div');
            wordChip.className = 'word-chip selected';
            wordChip.textContent = word;
            wordChip.onclick = function() {
                // Remove from sentence, add back to bank
                this.remove();
                element.style.display = 'inline-block';
            };
            
            sentence.appendChild(wordChip);
            element.style.display = 'none';
        }

        function clearSentence(num) {
            const sentence = document.getElementById('sentence' + num);
            const wordbank = document.getElementById('wordbank' + num);
            
            sentence.innerHTML = '';
            wordbank.querySelectorAll('.word-chip').forEach(chip => {
                chip.style.display = 'inline-block';
            });
        }

        function checkSentence(correct, num) {
            if (praetAnswered.has(num)) return;
            
            const sentence = document.getElementById('sentence' + num);
            const words = Array.from(sentence.querySelectorAll('.word-chip')).map(chip => chip.textContent);
            const userSentence = words.join(' ');
            
            // Vergleich ohne Leerzeichen
            if (normalizeSpaces(userSentence) === normalizeSpaces(correct)) {
                praetScore++;
                showFeedback('praetfeedback' + num, true, 'âœ“ Ø¹Ø§Ù„ÛŒ!');
                sentence.style.borderColor = '#4CAF50';
            } else {
                showFeedback('praetfeedback' + num, false, 'âœ— Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª: ' + correct);
                sentence.style.borderColor = '#f44336';
            }
            
            praetAnswered.add(num);
            document.getElementById('wordbank' + num).style.pointerEvents = 'none';
            updatePraetProgress();
        }

        // FÃ¼r flexible Satzordnung (Subjekt und Zeit kÃ¶nnen Position tauschen)
        function checkSentenceMulti(correctArray, num) {
            if (praetAnswered.has(num)) return;
            
            const sentence = document.getElementById('sentence' + num);
            const words = Array.from(sentence.querySelectorAll('.word-chip')).map(chip => chip.textContent);
            const userSentence = words.join(' ');
            
            // Vergleich ohne Leerzeichen gegen alle mÃ¶glichen Antworten
            const isCorrect = correctArray.some(correct => normalizeSpaces(userSentence) === normalizeSpaces(correct));
            
            if (isCorrect) {
                praetScore++;
                showFeedback('praetfeedback' + num, true, 'âœ“ Ø¹Ø§Ù„ÛŒ!');
                sentence.style.borderColor = '#4CAF50';
            } else {
                showFeedback('praetfeedback' + num, false, 'âœ— Ù…Ø«Ø§Ù„: ' + correctArray[0]);
                sentence.style.borderColor = '#f44336';
            }
            
            praetAnswered.add(num);
            document.getElementById('wordbank' + num).style.pointerEvents = 'none';
            updatePraetProgress();
        }

        function updatePraetProgress() {
            const progress = (praetAnswered.size / 22) * 100;
            document.getElementById('praetProgress').style.width = progress + '%';
            document.getElementById('praetProgress').textContent = praetAnswered.size + ' / 22';
            document.getElementById('praetScore').textContent = praetScore;
        }

        // PRONOMEN
        function checkPron(correct, num) {
            if (pronAnswered.has(num)) return;
            
            const input = document.getElementById('pron' + num);
            const answer = input.value.trim();
            
            // Vergleich ohne Leerzeichen
            if (normalizeSpaces(answer) === normalizeSpaces(correct)) {
                pronScore++;
                showFeedback('pronfeedback' + num, true, 'âœ“ Ø¹Ø§Ù„ÛŒ!');
                input.style.borderColor = '#4CAF50';
            } else {
                showFeedback('pronfeedback' + num, false, 'âœ— Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª: ' + correct);
                input.style.borderColor = '#f44336';
            }
            
            pronAnswered.add(num);
            input.disabled = true;
            updatePronProgress();
        }

        // FÃ¼r Pronomen mit alternativen Schreibweisen (mit/ohne alef)
        function checkPronMulti(correctArray, num) {
            if (pronAnswered.has(num)) return;
            
            const input = document.getElementById('pron' + num);
            const answer = input.value.trim();
            
            // Vergleich ohne Leerzeichen gegen alle mÃ¶glichen Schreibweisen
            const isCorrect = correctArray.some(correct => normalizeSpaces(answer) === normalizeSpaces(correct));
            
            if (isCorrect) {
                pronScore++;
                showFeedback('pronfeedback' + num, true, 'âœ“ Ø¹Ø§Ù„ÛŒ!');
                input.style.borderColor = '#4CAF50';
            } else {
                // Zeige alle Schreibweisen
                const options = correctArray.join(' ÛŒØ§ ');
                showFeedback('pronfeedback' + num, false, 'âœ— Ù…Ø«Ù„Ø§Ù‹: ' + options);
                input.style.borderColor = '#f44336';
            }
            
            pronAnswered.add(num);
            input.disabled = true;
            updatePronProgress();
        }

        function updatePronProgress() {
            const progress = (pronAnswered.size / 11) * 100;
            document.getElementById('pronProgress').style.width = progress + '%';
            document.getElementById('pronProgress').textContent = pronAnswered.size + ' / 11';
            document.getElementById('pronScore').textContent = pronScore;
        }

        // PLURAL
        function checkPlur(correct, num) {
            if (plurAnswered.has(num)) return;
            
            const input = document.getElementById('plur' + num);
            const answer = input.value.trim();
            
            // Vergleich ohne Leerzeichen
            if (normalizeSpaces(answer) === normalizeSpaces(correct)) {
                plurScore++;
                showFeedback('plurfeedback' + num, true, 'âœ“ Ø¹Ø§Ù„ÛŒ!');
                input.style.borderColor = '#4CAF50';
            } else {
                showFeedback('plurfeedback' + num, false, 'âœ— Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª: ' + correct);
                input.style.borderColor = '#f44336';
            }
            
            plurAnswered.add(num);
            input.disabled = true;
            updatePlurProgress();
        }

        function checkPlurMulti(correctArray, num) {
            if (plurAnswered.has(num)) return;
            
            const input = document.getElementById('plur' + num);
            const answer = input.value.trim();
            
            // Vergleich ohne Leerzeichen
            const isCorrect = correctArray.some(correct => normalizeSpaces(answer) === normalizeSpaces(correct));
            
            if (isCorrect) {
                plurScore++;
                showFeedback('plurfeedback' + num, true, 'âœ“ Ø¹Ø§Ù„ÛŒ!');
                input.style.borderColor = '#4CAF50';
            } else {
                const options = correctArray.join(' ÛŒØ§ ');
                showFeedback('plurfeedback' + num, false, 'âœ— Ù…Ø«Ù„Ø§Ù‹: ' + options);
                input.style.borderColor = '#f44336';
            }
            
            plurAnswered.add(num);
            input.disabled = true;
            updatePlurProgress();
        }

        function checkPlurMC(element, isCorrect, num) {
            if (plurAnswered.has(num)) return;
            
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            if (isCorrect) {
                element.classList.add('correct');
                plurScore++;
                showFeedback('plurfeedback' + num, true, 'âœ“ Ø¯Ø±Ø³Øª!');
            } else {
                element.classList.add('wrong');
                showFeedback('plurfeedback' + num, false, 'âœ— ØºÙ„Ø·!');
                options.forEach(opt => {
                    if (opt.onclick.toString().includes('true')) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            plurAnswered.add(num);
            updatePlurProgress();
        }

        function updatePlurProgress() {
            const progress = (plurAnswered.size / 11) * 100;
            document.getElementById('plurProgress').style.width = progress + '%';
            document.getElementById('plurProgress').textContent = plurAnswered.size + ' / 11';
            document.getElementById('plurScore').textContent = plurScore;
        }

        // QUIZ
        const quizQuestions = [
            {type: 'praet', q: 'Ich bin gestern nach Hause ... (gehen)', qp: 'Ù…Ù† Ø¯ÛŒØ±ÙˆØ² Ø¨Ù‡ Ø®Ø§Ù†Ù‡ ............ (Ø±ÙØªÙ†)', a: 'Ø±ÙØªÙ…'},
            {type: 'pron', q: '"Mein Buch" = ?', a: 'Ú©ØªØ§Ø¨â€ŒØ§Ù…', alt: 'Ú©ØªØ§Ø¨Ù…'},
            {type: 'plur', q: 'Plural von Ú©ØªØ§Ø¨ = ?', a: 'Ú©ØªØ§Ø¨â€ŒÙ‡Ø§', alt: 'Ú©ØªØ§Ø¨Ù‡Ø§'},
            {type: 'praet', q: 'Er/Sie hat das Buch ... (lesen)', qp: 'Ø§Ùˆ Ú©ØªØ§Ø¨ Ø±Ø§ ............ (Ø®ÙˆØ§Ù†Ø¯Ù†)', a: 'Ø®ÙˆØ§Ù†Ø¯'},
            {type: 'pron', q: '"Dein Haus" = ?', a: 'Ø®Ø§Ù†Ù‡â€ŒØ§Øª'},
            {type: 'mc', q: 'Plural ist im Persischen nur fÃ¼r:', options: ['Definite Nomen', 'Indefinite Nomen', 'Alle Nomen'], correct: 0},
            {type: 'praet', q: 'Wir haben Abendessen ... (essen)', qp: 'Ù…Ø§ Ø´Ø§Ù… ............ (Ø®ÙˆØ±Ø¯Ù†)', a: 'Ø®ÙˆØ±Ø¯ÛŒÙ…'},
            {type: 'pron', q: '"Sein/Ihr Lehrer" = ?', a: 'Ù…Ø¹Ù„Ù…â€ŒØ§Ø´', alt: 'Ù…Ø¹Ù„Ù…Ø´'},
            {type: 'plur', q: 'Plural von Ù…Ø¹Ù„Ù… = ?', a: 'Ù…Ø¹Ù„Ù…â€ŒÙ‡Ø§', alt: 'Ù…Ø¹Ù„Ù…Ø§Ù†ØŒ Ù…Ø¹Ù„Ù…Ù‡Ø§'},
            {type: 'praet', q: 'Sie sind gestern ... (kommen)', qp: 'Ø¢Ù†Ù‡Ø§ Ø¯ÛŒØ±ÙˆØ² ............ (Ø¢Ù…Ø¯Ù†)', a: 'Ø¢Ù…Ø¯Ù†Ø¯'},
            {type: 'pron', q: '"Unser Auto" = ?', a: 'Ù…Ø§Ø´ÛŒÙ†â€ŒÙ…Ø§Ù†', alt: 'Ù…Ø§Ø´ÛŒÙ†Ù…Ø§Ù†'},
            {type: 'mc', q: 'Was bedeutet Ú©ØªØ§Ø¨â€ŒÙ‡Ø§?', options: ['Ein Buch', 'Die BÃ¼cher (bestimmt)', 'BÃ¼cher (unbestimmt)'], correct: 1},
            {type: 'praet', q: 'Du hast morgens ... (duschen)', qp: 'ØªÙˆ ØµØ¨Ø­ ............ (Ø¯ÙˆØ´ Ú¯Ø±ÙØªÙ†)', a: 'Ø¯ÙˆØ´ Ú¯Ø±ÙØªÛŒ'},
            {type: 'pron', q: '"Euer Unterricht" = ?', a: 'Ú©Ù„Ø§Ø³â€ŒØªØ§Ù†', alt: 'Ú©Ù„Ø§Ø³ØªØ§Ù†'},
            {type: 'plur', q: 'Plural von Ø®Ø§Ù†Ù‡ = ?', a: 'Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§'},
            {type: 'praet', q: 'Ich habe meine Schwester ... (sehen)', qp: 'Ù…Ù† Ø®ÙˆØ§Ù‡Ø±Ù… Ø±Ø§ ............ (Ø¯ÛŒØ¯Ù†)', a: 'Ø¯ÛŒØ¯Ù…'},
            {type: 'pron', q: '"Euer Vater" = ?', a: 'Ù¾Ø¯Ø±ØªØ§Ù†'},
            {type: 'mc', q: 'Ú©ØªØ§Ø¨ (ohne Ù‡Ø§) kann sein:', options: ['Nur Singular', 'Singular oder Plural (aus Kontext)', 'Nur Plural'], correct: 1},
            {type: 'praet', q: 'Was habt ihr ...? (essen)', qp: 'Ø´Ù…Ø§ Ú†ÛŒ ............? (Ø®ÙˆØ±Ø¯Ù†)', a: 'Ø®ÙˆØ±Ø¯ÛŒØ¯'},
            {type: 'pron', q: '"Meine Schwester" = ?', a: 'Ø®ÙˆØ§Ù‡Ø±Ù…'},
            {type: 'plur', q: 'Plural von Ø¯Ø§Ù†Ø´Ø¬Ùˆ = ?', a: 'Ø¯Ø§Ù†Ø´Ø¬Ùˆâ€ŒÙ‡Ø§', alt: 'Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†ØŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÙ‡Ø§'},
            {type: 'praet', q: 'Er/Sie hat frÃ¼h ... (schlafen)', qp: 'Ø§Ùˆ Ø²ÙˆØ¯ ............ (Ø®ÙˆØ§Ø¨ÛŒØ¯Ù†)', a: 'Ø®ÙˆØ§Ø¨ÛŒØ¯'},
            {type: 'pron', q: '"Deine Mutter" = ?', a: 'Ù…Ø§Ø¯Ø±Øª'},
            {type: 'mc', q: 'Gibt es unbestimmten Plural im Persischen?', options: ['Ja', 'Nein, Plural ist immer bestimmt'], correct: 1},
            {type: 'praet', q: 'Wir sind ins Stadtzentrum ... (gehen)', qp: 'Ù…Ø§ Ø¨Ù‡ Ù…Ø±Ú©Ø² Ø´Ù‡Ø± ............ (Ø±ÙØªÙ†)', a: 'Ø±ÙØªÛŒÙ…'}
        ];

        function startQuiz() {
            try {
                const name = document.getElementById('studentName').value.trim();
                if (!name) {
                    alert('Bitte gib deinen Namen ein!');
                    return;
                }
                
                document.getElementById('quizStart').style.display = 'none';
                document.getElementById('quizContent').style.display = 'block';
                
                generateQuizQuestions();
                
                // Event Listener fÃ¼r Texteingaben um Progress zu aktualisieren
                setTimeout(() => {
                    const inputs = document.querySelectorAll('input[id^="quiz"]');
                    inputs.forEach(input => {
                        // Nur fÃ¼r quiz0, quiz1, quiz2, etc. (nicht quizScore, quizProgress, etc.)
                        if (input.id.match(/^quiz\d+$/)) {
                            input.addEventListener('input', updateQuizProgress);
                        }
                    });
                }, 100);
            } catch (error) {
                console.error('Fehler beim Starten des Quiz:', error);
                alert('Ein Fehler ist aufgetreten. Bitte lade die Seite neu.');
            }
        }

        function generateQuizQuestions() {
            const container = document.getElementById('quizQuestions');
            if (!container || typeof quizQuestions === 'undefined' || !quizQuestions.length) {
                console.error('Quiz container oder Fragen nicht gefunden');
                return;
            }
            
            quizQuestions.forEach((q, index) => {
                const div = document.createElement('div');
                div.className = 'exercise';
                
                if (q.type === 'mc') {
                    div.innerHTML = `
                        <h4>${index + 1}. ${q.q}</h4>
                        ${q.options.map((opt, i) => `
                            <div class="option" data-question="${index}" data-correct="${i === q.correct}" onclick="selectQuizMC(this, ${index})">
                                ${opt}
                            </div>
                        `).join('')}
                        <div class="feedback" id="quizfeedback${index}"></div>
                    `;
                } else {
                    // Add Persian question line if it exists
                    const persianLine = q.qp ? `<p class="persian" dir="rtl" style="margin: 10px 0;">${q.qp}</p>` : '';
                    
                    div.innerHTML = `
                        <h4>${index + 1}. ${q.q}</h4>
                        ${persianLine}
                        <input type="text" class="input-box persian" id="quiz${index}" placeholder="Ù¾Ø§Ø³Ø®" data-correct="${q.a}" data-alt="${q.alt || ''}">
                        <div class="feedback" id="quizfeedback${index}"></div>
                    `;
                }
                
                container.appendChild(div);
            });
        }

        // Auswahl bei MC-Fragen (ohne sofortige PrÃ¼fung)
        function selectQuizMC(element, num) {
            if (!element || !element.parentElement) return;
            
            // Entferne vorherige Auswahl
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.classList.remove('selected');
                opt.style.background = '';
                opt.style.borderColor = '';
            });
            
            // Markiere neue Auswahl
            element.classList.add('selected');
            element.style.background = '#e3f2fd';
            element.style.borderColor = '#667eea';
            
            // Update Progress
            updateQuizProgress();
        }

        function updateQuizProgress() {
            try {
                // ZÃ¤hle wie viele beantwortet wurden (MC-Auswahl + Texteingaben)
                const mcAnswered = document.querySelectorAll('.option.selected').length;
                
                // Nur Input-Elemente mit quiz[nummer] ID zÃ¤hlen
                const inputs = document.querySelectorAll('input[id^="quiz"]');
                const inputAnswered = Array.from(inputs).filter(input => {
                    // PrÃ¼fe ob es eine Nummer-ID ist (quiz0, quiz1, etc.)
                    const idMatch = input.id.match(/^quiz\d+$/);
                    return idMatch && input.value.trim() !== '';
                }).length;
                
                const totalAnswered = mcAnswered + inputAnswered;
                
                const progress = (totalAnswered / 25) * 100; // 25 normale Quiz-Fragen
                const progressBar = document.getElementById('quizProgress');
                if (progressBar) {
                    progressBar.style.width = progress + '%';
                    progressBar.textContent = totalAnswered + ' / 25';
                }
                
                // Button ist immer sichtbar
                const finishBtn = document.getElementById('finishQuizBtn');
                if (finishBtn) {
                    finishBtn.style.display = 'block';
                }
            } catch (error) {
                console.error('Fehler in updateQuizProgress:', error);
            }
        }


        function finishQuiz() {
            try {
                const reviewData = [];
                quizScore = 0;
            
                // PrÃ¼fe alle MC-Fragen
                if (typeof quizQuestions !== 'undefined' && quizQuestions.length > 0) {
                    quizQuestions.forEach((q, index) => {
                        if (q.type === 'mc') {
                            const selected = document.querySelector(`.option.selected[data-question="${index}"]`);
                            let userAnswer = '';
                            let isCorrect = false;
                            let correctAnswer = '';
                            
                            if (selected) {
                                userAnswer = selected.textContent.trim();
                                isCorrect = selected.getAttribute('data-correct') === 'true';
                                
                                if (isCorrect) {
                                    quizScore++;
                                    selected.style.background = '#c8e6c9';
                                    selected.style.borderColor = '#4CAF50';
                                } else {
                                    selected.style.background = '#ffcdd2';
                                    selected.style.borderColor = '#f44336';
                                    const correct = document.querySelector(`.option[data-question="${index}"][data-correct="true"]`);
                                    if (correct) {
                                        correctAnswer = correct.textContent.trim();
                                        correct.style.background = '#c8e6c9';
                                        correct.style.borderColor = '#4CAF50';
                                    }
                                }
                            } else {
                                userAnswer = '(nicht beantwortet)';
                                const correct = document.querySelector(`.option[data-question="${index}"][data-correct="true"]`);
                                if (correct) correctAnswer = correct.textContent.trim();
                            }
                            
                            reviewData.push({
                                question: q.q,
                                userAnswer: userAnswer,
                                correctAnswer: isCorrect ? userAnswer : correctAnswer,
                                isCorrect: isCorrect,
                                type: 'mc'
                            });
                        }
                    });
                    
                    // PrÃ¼fe alle Text-Eingabe-Fragen
                    quizQuestions.forEach((q, index) => {
                        if (q.type !== 'mc') {
                            const input = document.getElementById('quiz' + index);
                            if (input) {
                                const answer = input.value.trim();
                                const correct = input.getAttribute('data-correct');
                                const alt = input.getAttribute('data-alt');
                                
                                const alternatives = [];
                                if (alt && alt !== '') {
                                    const parts = alt.split('ØŒ ');
                                    parts.forEach(part => {
                                        alternatives.push(part.trim());
                                    });
                                }
                                
                                let isCorrect = normalizeSpaces(answer) === normalizeSpaces(correct);
                                if (!isCorrect && alternatives.length > 0) {
                                    for (let i = 0; i < alternatives.length; i++) {
                                        if (normalizeSpaces(answer) === normalizeSpaces(alternatives[i])) {
                                            isCorrect = true;
                                            break;
                                        }
                                    }
                                }
                                
                                if (isCorrect) {
                                    quizScore++;
                                    input.style.borderColor = '#4CAF50';
                                    input.style.background = '#e8f5e9';
                                } else {
                                    input.style.borderColor = '#f44336';
                                    input.style.background = '#ffebee';
                                }
                                
                                let correctAnswerText = correct;
                                if (alternatives.length > 0) {
                                    correctAnswerText = correct + ' oder ' + alternatives.join(' oder ');
                                }
                                
                                reviewData.push({
                                    question: q.q + (q.qp ? ' (' + q.qp + ')' : ''),
                                    userAnswer: answer || '(nicht beantwortet)',
                                    correctAnswer: correctAnswerText,
                                    isCorrect: isCorrect,
                                    type: 'input'
                                });
                            }
                        }
                    });
                }
                
                generateReview(reviewData);
                
                const scoreDisplay = document.getElementById('quizScore');
                if (scoreDisplay) {
                    scoreDisplay.textContent = quizScore;
                }
                
                const quizContent = document.getElementById('quizContent');
                const quizReview = document.getElementById('quizReview');
                if (quizContent) quizContent.style.display = 'none';
                if (quizReview) quizReview.style.display = 'block';
                
            } catch (error) {
                console.error('Fehler in finishQuiz:', error);
                alert('Ein Fehler ist beim Auswerten aufgetreten: ' + error.message);
            }
        }
        
        function generateReview(reviewData) {
            const reviewContent = document.getElementById('reviewContent');
            const reviewScore = document.getElementById('reviewScore');
            const reviewPercentage = document.getElementById('reviewPercentage');
            
            if (!reviewContent) return;
            
            const percentage = Math.round((quizScore / 25) * 100);
            reviewScore.textContent = quizScore;
            reviewPercentage.textContent = percentage;
            
            let html = '';
            for (let i = 0; i < reviewData.length; i++) {
                const item = reviewData[i];
                const statusIcon = item.isCorrect ? 'âœ“' : 'âœ—';
                const statusColor = item.isCorrect ? '#4CAF50' : '#f44336';
                const bgColor = item.isCorrect ? '#e8f5e9' : '#ffebee';
                
                html += '<div style="background: ' + bgColor + '; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid ' + statusColor + ';">';
                html += '<div style="display: flex; align-items: center; margin-bottom: 10px;">';
                html += '<span style="font-size: 1.5em; color: ' + statusColor + '; margin-right: 10px;">' + statusIcon + '</span>';
                html += '<strong style="color: ' + statusColor + ';">' + (i + 1) + '. ' + item.question + '</strong>';
                html += '</div>';
                html += '<div style="margin-left: 35px;">';
                html += '<div style="margin: 5px 0;">';
                html += '<strong>Deine Antwort:</strong> ';
                html += '<span class="persian" dir="rtl" style="color: ' + (item.isCorrect ? '#4CAF50' : '#f44336') + '; font-size: 1.1em;">';
                html += item.userAnswer;
                html += '</span>';
                html += '</div>';
                if (!item.isCorrect) {
                    html += '<div style="margin: 5px 0;">';
                    html += '<strong>Richtige Antwort:</strong> ';
                    html += '<span class="persian" dir="rtl" style="color: #4CAF50; font-size: 1.1em;">';
                    html += item.correctAnswer;
                    html += '</span>';
                    html += '</div>';
                }
                html += '</div>';
                html += '</div>';
            }
            
            reviewContent.innerHTML = html;
        }
        
        function showCertificate() {
            const name = document.getElementById('studentName').value;
            const percentage = Math.round((quizScore / 25) * 100);
            
            const quizReview = document.getElementById('quizReview');
            const quizResult = document.getElementById('quizResult');
            if (quizReview) quizReview.style.display = 'none';
            if (quizResult) quizResult.style.display = 'block';
            
            const certName = document.getElementById('certName');
            const certScore = document.getElementById('certScore');
            const certDate = document.getElementById('certDate');
            
            if (certName) certName.textContent = name;
            if (certScore) certScore.textContent = 'Score: ' + quizScore + '/25 (' + percentage + '%)';
            if (certDate) certDate.textContent = new Date().toLocaleDateString('de-DE');
        }
        function downloadCertificate() {
            const certificate = document.getElementById('certificate');
            
            html2canvas(certificate, {
                scale: 2,
                backgroundColor: '#ffffff'
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'lektion4_zertifikat.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        function showFeedback(id, isCorrect, message) {
            const feedback = document.getElementById(id);
            feedback.textContent = message;
            feedback.className = 'feedback show ' + (isCorrect ? 'correct' : 'wrong');
        }

        // PAARE-BILDEN
        function selectPairWord(element) {
            // Ignore matched pairs
            if (element.classList.contains('matched')) return;
            
            const wordId = element.getAttribute('data-id');
            
            // If no selection yet
            if (!selectedPair) {
                // Deselect all
                document.querySelectorAll('.pair-word').forEach(w => {
                    if (!w.classList.contains('matched')) {
                        w.classList.remove('selected');
                    }
                });
                
                element.classList.add('selected');
                selectedPair = {element: element, id: wordId};
                return;
            }
            
            // If clicking the same word again, deselect
            if (selectedPair.element === element) {
                element.classList.remove('selected');
                selectedPair = null;
                return;
            }
            
            // If selecting second word
            const firstId = selectedPair.id;
            const secondId = wordId;
            
            // Check if they match
            if (firstId === secondId) {
                // Match!
                selectedPair.element.classList.add('matched');
                selectedPair.element.classList.remove('selected');
                element.classList.add('matched');
                
                matchedPairs.add(firstId);
                pairScore++;
                
                document.getElementById('pairScore').textContent = pairScore;
                
                // Check if all pairs matched
                if (pairScore === 8) {
                    showFeedback('pairfeedback', true, 'ğŸ‰ Ø¹Ø§Ù„ÛŒ! Alle Paare richtig zugeordnet!');
                    pronScore += 2; // Bonus points
                    document.getElementById('pronScore').textContent = pronScore;
                    updatePronProgress();
                }
                
                selectedPair = null;
            } else {
                // Wrong match - shake animation
                selectedPair.element.style.animation = 'shake 0.5s';
                element.style.animation = 'shake 0.5s';
                
                setTimeout(() => {
                    selectedPair.element.style.animation = '';
                    element.style.animation = '';
                    selectedPair.element.classList.remove('selected');
                }, 500);
                
                selectedPair = null;
            }
        }

        function resetPairs() {
            document.querySelectorAll('.pair-word').forEach(w => {
                w.classList.remove('matched', 'selected');
            });
            
            selectedPair = null;
            matchedPairs.clear();
            pairScore = 0;
            document.getElementById('pairScore').textContent = '0';
            document.getElementById('pairfeedback').classList.remove('show');
        }
    </script>

    <!-- Fehlerkorrektur Popup -->
    <div class="popup-overlay" id="errorOverlay" onclick="closeErrorPopup()"></div>
    <div class="correction-popup" id="errorPopup">
        <h3 style="color: #667eea; margin-bottom: 15px;">Fehler korrigieren</h3>
        <p style="margin: 10px 0;">Falsches Wort:</p>
        <p style="font-size: 1.3em; color: #f44336; margin: 10px 0;" id="errorCurrentWord"></p>
        <p style="margin: 15px 0 5px 0;">Schreiben Sie das richtige Wort:</p>
        <input type="text" class="input-box persian" id="errorInput" placeholder="Ù¾Ø§Ø³Ø®" style="width: 100%; margin: 10px 0;">
        <div class="feedback" id="errorFeedback" style="margin: 10px 0;"></div>
        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button class="btn" onclick="submitCorrection()" style="flex: 1;">âœ“ PrÃ¼fen</button>
            <button class="btn" onclick="closeErrorPopup()" style="flex: 1; background: #f44336;">âœ— Abbrechen</button>
        </div>
    </div>

</body>
</html>