<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Googoosh - Ú©Ù…Ú©Ù… Ú©Ù† (Hilf mir)</title>
    <script data-goatcounter="https://aguitoo.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
        }
        
        [dir="rtl"] {
            font-family: Tahoma, Arial, sans-serif;
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Home View */
        .home-view {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 3rem;
        }
        
        .title-persian {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .title-german {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            opacity: 0.9;
        }
        
        .artist {
            font-size: 1.5rem;
            opacity: 0.8;
        }
        
        .audio-hint {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            color: white;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
        }
        
        .card-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 2.5rem;
        }
        
        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .card-description {
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
        }
        
        /* Content Views */
        .content-view {
            min-height: 100vh;
            padding: 2rem;
        }
        
        .lyrics-view {
            background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
        }
        
        .flashcards-view {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        }
        
        .puzzle-view {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
        }
        
        .back-button {
            background: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .back-button:hover {
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }
        
        .view-title {
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            margin: 2rem 0;
        }
        
        .content-box {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Lyrics */
        .lyrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
        }
        
        .lyrics-column h3 {
            text-align: right;
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid;
        }
        
        .lyrics-line {
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .lyrics-line:hover {
            border-color: currentColor;
        }
        
        .lyrics-line.active {
            background: rgba(0,0,0,0.05);
        }
        
        .persian-text {
            text-align: right;
            font-size: 1.1rem;
            line-height: 1.8;
        }
        
        .translation {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0,0,0,0.1);
            font-style: italic;
            color: #666;
        }
        
        /* Flashcards */
        .flashcard-container {
            max-width: 600px;
            margin: 2rem auto;
        }
        
        .progress-bar {
            background: #e5e7eb;
            height: 12px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        
        .progress-fill {
            height: 100%;
            background: #10b981;
            transition: width 0.3s;
        }
        
        .progress-text {
            text-align: center;
            margin-bottom: 0.5rem;
            color: #666;
        }
        
        .flashcard {
            background: white;
            border-radius: 20px;
            padding: 4rem 2rem;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            transition: transform 0.3s;
            margin-bottom: 2rem;
        }
        
        .flashcard:hover {
            transform: scale(1.02);
        }
        
        .flashcard.flipped {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        .flashcard-content {
            text-align: center;
        }
        
        .flashcard-label {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 1rem;
        }
        
        .flashcard-word {
            font-size: 2.5rem;
            font-weight: bold;
        }
        
        .flashcard-hint {
            text-align: center;
            color: #666;
            margin-bottom: 2rem;
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        
        .nav-button {
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .nav-button:not(:disabled):hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        /* Puzzle */
        .section-selector {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .section-button {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .section-button.active {
            background: #ec4899;
            color: white;
            box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4);
        }
        
        .section-button:not(.active) {
            background: white;
            color: #374151;
        }
        
        .puzzle-instructions {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .sentences-list {
            margin-bottom: 2rem;
        }
        
        .sentence-item {
            background: #fce7f3;
            border: 2px solid #fbcfe8;
            padding: 1rem;
            margin-bottom: 0.5rem;
            border-radius: 10px;
            text-align: right;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .sentence-item:hover:not(.used) {
            background: #fbcfe8;
            border-color: #ec4899;
        }
        
        .sentence-item.used {
            background: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        
        .ordered-list {
            margin-top: 2rem;
        }
        
        .ordered-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: #d1fae5;
            border: 2px solid #a7f3d0;
            padding: 1rem;
            margin-bottom: 0.5rem;
            border-radius: 10px;
        }
        
        .order-number {
            flex-shrink: 0;
            width: 40px;
            height: 40px;
            background: #10b981;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .sentence-text {
            flex: 1;
            text-align: right;
        }
        
        .remove-button {
            flex-shrink: 0;
            background: #fee2e2;
            color: #dc2626;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .remove-button:hover {
            background: #fecaca;
        }
        
        .result-box {
            margin-top: 2rem;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
        }
        
        .result-box.success {
            background: #d1fae5;
            border: 2px solid #10b981;
        }
        
        .result-box.error {
            background: #fee2e2;
            border: 2px solid #dc2626;
        }
        
        .result-emoji {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .result-message {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .result-box.success .result-message {
            color: #065f46;
        }
        
        .result-box.error .result-message {
            color: #991b1b;
        }
        
        .stars {
            font-size: 2rem;
            margin: 1rem 0;
        }
        
        .action-button {
            background: #ec4899;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            margin-top: 1rem;
        }
        
        .action-button:hover {
            background: #db2777;
        }
        
        @media (max-width: 768px) {
            .title-persian { font-size: 2rem; }
            .title-german { font-size: 1.5rem; }
            .lyrics-grid { grid-template-columns: 1fr; }
            .cards-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // Data
        const songData = [
          {german: "Hilf mir, hilf mir, lass mich nicht hier bleiben, bis ich verrotte.", hochpersisch: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù†Ú¯Ø°Ø§Ø± Ø§ÛŒÙ†â€ŒØ¬Ø§ Ø¨Ù…Ø§Ù†Ù… ØªØ§ Ø¨Ù¾ÙˆØ³Ù….", original: "Ú©ÙÙ…ÙÚ©ÙÙ… Ú©ÙÙ†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù†ÙØ°Ø§Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨ÙÙ…ÙˆÙ†Ù… ØªØ§ Ø¨ÙÙ¾ÙˆØ³ÙÙ….", section: 1},
          {german: "Hilf mir, hilf mir, lass mich nicht hier die Lippen des Todes kÃ¼ssen.", hochpersisch: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù†Ú¯Ø°Ø§Ø± Ø§ÛŒÙ†â€ŒØ¬Ø§ Ù„Ø¨Ù Ù…Ø±Ú¯ Ø±Ø§ Ø¨Ø¨ÙˆØ³Ù….", original: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù†Ø°Ø§Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù„ÙØ¨Ù Ù…ÙØ±Ú¯Ùˆ Ø¨ÙØ¨ÙˆØ³ÙÙ….", section: 1},
          {german: "Hilf mir, hilf mir, verfluchte Liebe braucht Furchtlosigkeit.", hochpersisch: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ø¹Ø´Ù‚Ù Ù†ÙØ±ÛŒÙ†ÛŒØŒ Ø¨ÛŒâ€ŒÙ¾Ø±ÙˆØ§ÛŒÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ø¯.", original: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ø¹ÙØ´Ù‚Ù Ù†ÙÙØ±ÛŒÙ†ÛŒ Ø¨ÛŒâ€ŒÙ¾ÙØ±ÙˆØ§ÛŒÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ø¯.", section: 1},
          {german: "Der Fisch aus einem alten Bach sehnt sich nach der frischen Luft des Meeres.", hochpersisch: "Ù…Ø§Ù‡ÛŒÙ Ú†Ø´Ù…Ù‡â€ŒÛŒ Ú©Ù‡Ù†Ù‡ØŒ Ù‡ÙˆØ§ÛŒ ØªØ§Ø²Ù‡â€ŒÛŒ Ø¯Ø±ÛŒØ§ÛŒÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ø¯.", original: "Ù…Ø§Ù‡ÛŒ Ú†ÙØ´Ù…ÙÙ‡â€ŒÛŒ Ú©ÙÙ‡Ù†ÙÙ‡ Ù‡ÙˆØ§ÛŒ ØªØ§Ø²ÙÙ‡â€ŒÛŒ Ø¯ÙØ±ÛŒØ§ÛŒÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ø¯.", section: 1},
          {german: "Mein Herz ist meerhaft", hochpersisch: "Ø¯Ù„Ù Ù…Ù† Ø¯Ø±ÛŒØ§ÛŒÛŒ Ø§â€ŒØ³Øª.", original: "Ø¯Ù„ Ù…Ù† Ø¯Ø±ÙŠØ§ÛŒÛŒÙ‡.", section: 2},
          {german: "Der Bach ist fÃ¼r mich ein GefÃ¤ngnis.", hochpersisch: "Ú†Ø´Ù…Ù‡ Ø²Ù†Ø¯Ø§Ù†Ù Ù…Ù† Ø§Ø³Øª.", original: "Ú†Ø´Ù…Ù‡ Ø²Ù†Ø¯ÙˆÙ†Ù‡ Ø¨Ø±Ø§Ù….", section: 2},
          {german: "Das tropfende Wasser ist mein Klagelied.", hochpersisch: "Ú†Ú©Ù‡â€ŒÚ†Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ØŒ Ù…Ø±Ø«ÛŒÙ‡â€ŒØ®ÙˆØ§Ù†Ù Ù…Ù† Ø§Ø³Øª.", original: "Ú†Ú©Ù‡ Ú†Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ Ù…ÙØ±Ø«ÛŒÙ‡â€ŒØ®ÙˆÙ†Ù‡ Ø¨Ø±Ø§Ù….", section: 2},
          {german: "In meinen Adern flieÃŸt statt Blut das rote Gedicht des Aufbruchs.", hochpersisch: "Ø¯Ø± Ø±Ú¯â€ŒÙ‡Ø§ÛŒÙ… Ø¨Ù‡ Ø¬Ø§ÛŒ Ø®ÙˆÙ†ØŒ Ø´Ø¹Ø±Ù Ø³Ø±Ø®Ù Ø±ÙØªÙ† Ø§Ø³Øª.", original: "ØªÙˆ Ø±ÙÚ¯Ø§Ù… Ø¨Ù‡ Ø¬Ø§ÛŒ Ø®ÙˆÙ† Ø´ÙØ¹Ø±Ù Ø³ÙØ±Ø®ÙÙ Ø±ÙØªÙ†Ù‡.", section: 2},
          {german: "Ich gebe mich dem Bleiben nicht hin.", hochpersisch: "ØªÙ† Ø¨Ù‡ Ù…Ø§Ù†Ø¯Ù† Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ù….", original: "ØªÙÙ† Ø¨Ù‡ Ù…ÙˆÙ†Ø¯Ù† Ù†Ù…ÛŒâ€ŒØ¯Ù….", section: 2},
          {german: "Mein Bleiben ist mein Tod.", hochpersisch: "Ù…Ø§Ù†Ø¯Ù†Ù… Ù…Ø±Ú¯Ù Ù…Ù† Ø§Ø³Øª.", original: "Ù…ÙˆÙ†Ø¯Ù†Ù… Ù…Ø±Ú¯ Ù…Ù†Ù‡.", section: 2},
          {german: "Ich bin verliebt â€“ verliebt wie ein Reisender.", hochpersisch: "Ø¹Ø§Ø´Ù‚Ù…ØŒ Ù…Ø«Ù„Ù Ù…Ø³Ø§ÙØ± Ø¹Ø§Ø´Ù‚Ù….", original: "Ø¹Ø§Ø´Ù‚Ù… Ù…Ø«Ù„ Ù…ÙØ³Ø§ÙÙØ± Ø¹Ø§Ø´Ù‚ÙÙ….", section: 3},
          {german: "Ich liebe das Erreichen des Endes.", hochpersisch: "Ø¹Ø§Ø´Ù‚Ù Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø§Ù†ØªÙ‡Ø§.", original: "Ø¹Ø§Ø´Ù‚ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø§ÙÙ†ØªÙÙ‡Ø§.", section: 3},
          {german: "Ich liebe den fremden Duft des Aufbruchs im grauen Morgengrauen der StraÃŸen.", hochpersisch: "Ø¹Ø§Ø´Ù‚Ù Ø¨ÙˆÛŒÙ ØºØ±ÛŒØ¨ÙØ§Ù†Ù‡â€ŒÛŒ Ú©ÙˆÚ†ØŒ ØªÙˆÛŒ Ø³Ù¾ÛŒØ¯Ù‡â€ŒÛŒ ØºØ±ÛŒØ¨Ù Ø¬Ø§Ø¯Ù‡â€ŒÙ‡Ø§.", original: "Ø¹Ø§Ø´Ù‚ Ø¨ÙˆÛŒ ØºØ±ÙŠØ¨Ø§Ù†Ù‡â€ŒÛŒ Ú©ÙˆÚ† ØªÙˆ Ø³Ù¾ÛŒØ¯Ù‡â€ŒÛŒ ØºØ±ÙŠØ¨ Ø¬Ø§Ø¯Ù‡ Ù‡Ø§.", section: 3},
          {german: "Ich bin voller Versuchungen des Aufbruchs.", hochpersisch: "Ù…Ù† Ù¾Ø± Ø§Ø² ÙˆØ³ÙˆØ³Ù‡â€ŒÙ‡Ø§ÛŒÙ Ø±ÙØªÙ†â€ŒØ§Ù….", original: "Ù…Ù† Ù¾Ø± Ø§Ø² ÙˆØ³ÙˆØ³Ù‡ Ù‡Ø§ÛŒ Ø±ÙØªÙ†Ù….", section: 3},
          {german: "Gehen, Ankommen, Neuwerden.", hochpersisch: "Ø±ÙØªÙ† Ùˆ Ø±Ø³ÛŒØ¯Ù† Ùˆ ØªØ§Ø²Ù‡ Ø´Ø¯Ù†.", original: "Ø±ÙØªÙ† Ùˆ Ø±Ø³ÛŒØ¯Ù† Ùˆ ØªØ§Ø²Ù‡ Ø´Ø¯Ù†.", section: 3},
          {german: "In einem kalten grauen Morgen von einer ruhmhaften Liebe mesmerisiert zu werden.", hochpersisch: "ØªÙˆÛŒ ÛŒÚ© Ø³Ù¾ÛŒØ¯Ù‡â€ŒÛŒ Ø·ÙˆØ³ÛŒ Ø³Ø±Ø¯ØŒ Ù…Ø³Ø® ÛŒÚ© Ø´Ø¹Ø± Ù¾ÙØ±Ø¢ÙˆØ§Ø²Ù‡ Ø´Ø¯Ù†.", original: "ØªÙˆÛŒ ÛŒÚ© Ø³Ù¾ÛŒØ¯Ù‡ ÛŒ Ø·ÙˆØ³ÛŒ Ø³Ø±Ø¯ Ù…Ø³Ø® ÛŒÚ© Ø¹Ø´Ù‚ Ù¾Ø± Ø¢ÙˆØ§Ø²Ù‡ Ø´Ø¯Ù†.", section: 3},
          {german: "Hilf mir, hilf mir, lass nicht zu, dass dieser Verlorene zusammenbricht.", hochpersisch: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù†Ú¯Ø°Ø§Ø± Ø§ÛŒÙ† Ú¯Ù…Ø´Ø¯Ù‡ Ø§Ø² Ù¾Ø§ Ø¯Ø±Ø¨ÛŒØ§ÛŒØ¯.", original: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù†Ø°Ø§Ø± Ø§ÛŒÙ† Ú¯Ù…Ø´Ø¯Ù‡ Ø§Ø² Ù¾Ø§ Ø¯Ø± Ø¨ÛŒØ§Ø¯.", section: 4},
          {german: "Hilf mir, hilf mir, der Heuhaufen meiner TrÃ¤gheit braucht eine Flamme.", hochpersisch: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ø®Ø±Ù…Ù†Ù Ø±Ø®ÙˆØªÙ Ù…Ù†ØŒ Ø´Ø¹Ù„Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ø¯.", original: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ø®Ø±Ù…Ù† Ø±Ø®ÙˆØª Ù…Ù† Ø´Ø¹Ù„Ù‡ Ù…ÛŒ Ø®ÙˆØ§Ø¯.", section: 4},
          {german: "Hilf mir, hilf mir, wir mÃ¼ssen das Morgen erreichen.", hochpersisch: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù…Ù† Ùˆ ØªÙˆ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ ÙØ±Ø¯Ø§ Ø¨Ø±Ø³ÛŒÙ….", original: "Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ú©Ù…Ú©Ù… Ú©Ù†ØŒ Ù…Ù† Ùˆ ØªÙˆ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ ÙØ±Ø¯Ø§ Ø¨Ø±Ø³ÛŒÙ….", section: 4},
          {german: "Der Bach ist uns zu eng, wir mÃ¼ssen zum Meer gelangen.", hochpersisch: "Ú†Ø´Ù…Ù‡ Ø¨Ø±Ø§ÛŒÙ Ù…Ø§ Ú©ÙˆÚ†Ú© Ø§Ø³ØªØŒ Ø¨Ø§ÛŒØ¯ Ø¨Ø±ÙˆÛŒÙ… ØªØ§ Ø¨Ù‡ Ø¯Ø±ÛŒØ§ Ø¨Ø±Ø³ÛŒÙ….", original: "Ú†Ø´Ù…Ù‡ Ú©ÙˆÚ†ÛŒÚ©Ù‡ Ø¨Ø±Ø§Ù…ÙˆÙ†ØŒ Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø±ÙŠÙ… Ø¨Ù‡ Ø¯Ø±ÙŠØ§ Ø¨Ø±Ø³ÛŒÙ….", section: 4},
          {german: "Unser Herz ist meerhaft.", hochpersisch: "Ø¯Ù„Ù Ù…Ø§ Ø¯Ø±ÛŒØ§ÛŒÛŒ Ø§â€ŒØ³Øª.", original: "Ø¯Ù„ Ù…Ø§ Ø¯Ø±ÛŒØ§ÛŒÛŒÙ‡.", section: 4},
          {german: "Der Bach ist unser GefÃ¤ngnis.", hochpersisch: "Ú†Ø´Ù…Ù‡ Ø²Ù†Ø¯Ø§Ù†Ù Ù…Ø§Ø³Øª.", original: "Ú†Ø´Ù…Ù‡ Ø²Ù†Ø¯ÙˆÙ†Ù…ÙˆÙ†Ù‡.", section: 4},
          {german: "Das tropfende Wasser ist unser Trauerlied.", hochpersisch: "Ú†Ú©Ù‡â€ŒÚ†Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ØŒ Ù…Ø±Ø«ÛŒÙ‡â€ŒØ®ÙˆØ§Ù†Ù Ù…Ø§Ø³Øª.", original: "Ú†Ú©Ù‡ Ú†Ú©Ù‡ Ù‡Ø§ÛŒ Ø¢Ø¨ Ù…Ø±Ø«ÛŒÙ‡ Ø®ÙˆÙ†Ù…ÙˆÙ†Ù‡.", section: 4},
          {german: "In unserem Sein flieÃŸt das rote Gedicht des Aufbruchs.", hochpersisch: "Ø¯Ø± Ø±Ú¯Ù Ø¨ÙˆØ¯Ù†Ù Ù…Ø§ØŒ Ø´Ø¹Ø±ÙÙ Ø³Ø±Ø®ÙÙ Ø±ÙØªÙ† Ø§Ø³Øª.", original: "ØªÙˆ Ø±Ú¯ Ø¨ÙˆØ¯Ù† Ù…Ø§ Ø´Ø¹Ø± Ø³Ø±Ø®Ù‡ Ø±ÙØªÙ†Ù‡.", section: 4},
          {german: "Hilf mir, denn es ist Zeit aufzubrechen.", hochpersisch: "Ú©Ù…Ú©Ù… Ú©Ù† Ú©Ù‡ Ø¯ÛŒÚ¯Ø± ÙˆÙ‚ØªÙ Ø±Ø§Ù‡ÛŒ Ø´Ø¯Ù† Ø§Ø³Øª.", original: "Ú©Ù…Ú©Ù… Ú©Ù† Ú©Ù‡ Ø¯ÛŒÚ¯Ù‡ ÙˆÙ‚Øª Ø±Ø§Ù‡ÛŒ Ø´Ø¯Ù†Ù‡.", section: 4}
        ];

        const vocabularyData = [
          {german: "Bach", persian: "Ú†Ø´Ù…Ù‡"}, {german: "Blut", persian: "Ø®ÙˆÙ†"}, {german: "Duft", persian: "Ø¨Ùˆ"},
          {german: "Ende", persian: "Ø§Ù†ØªÙ‡Ø§"}, {german: "Furchtlosigkeit", persian: "Ø¨ÛŒâ€ŒÙ¾Ø±ÙˆØ§ÛŒÛŒ"}, {german: "GefÃ¤ngnis", persian: "Ø²Ù†Ø¯Ø§Ù†"},
          {german: "Gedicht", persian: "Ø´Ø¹Ø±"}, {german: "Liebe", persian: "Ø¹Ø´Ù‚"}, {german: "Herz", persian: "Ø¯Ù„"},
          {german: "MorgendÃ¤mmerung", persian: "Ø³Ù¾ÛŒØ¯Ù‡"}, {german: "Haufen / Heuhaufen", persian: "Ø®Ø±Ù…Ù†"}, {german: "Luft", persian: "Ù‡ÙˆØ§"},
          {german: "Meer", persian: "Ø¯Ø±ÛŒØ§"}, {german: "Reisender", persian: "Ù…Ø³Ø§ÙØ±"}, {german: "Morgen (Zukunft)", persian: "ÙØ±Ø¯Ø§"},
          {german: "Scharlachrot", persian: "Ø³Ø±Ø®"}, {german: "Tod", persian: "Ù…Ø±Ú¯"}, {german: "TrÃ¤gheit", persian: "Ø±Ø®ÙˆØª"},
          {german: "Tropfen", persian: "Ú†Ú©Ù‡"}, {german: "Versuchung", persian: "ÙˆØ³ÙˆØ³Ù‡"}, {german: "Wasser", persian: "Ø¢Ø¨"},
          {german: "ankommen", persian: "Ø±Ø³ÛŒØ¯Ù†"}, {german: "Trauerlied", persian: "Ù…Ø±Ø«ÛŒÙ‡"}, {german: "Flamme", persian: "Ø´Ø¹Ù„Ù‡"},
          {german: "Zeit / Moment", persian: "ÙˆÙ‚Øª"}, {german: "Ader", persian: "Ø±Ú¯"}, {german: "Angstlos / furchtlos", persian: "Ø¨ÛŒâ€ŒÙ¾Ø±ÙˆØ§"},
          {german: "frisch", persian: "ØªØ§Ø²Ù‡"}, {german: "grau", persian: "Ø·ÙˆØ³ÛŒ"}, {german: "kalt", persian: "Ø³Ø±Ø¯"},
          {german: "klein", persian: "Ú©ÙˆÚ†Ú©"}, {german: "neu", persian: "ØªØ§Ø²Ù‡"}, {german: "Der/die Verlorene", persian: "Ú¯Ù…Ø´Ø¯Ù‡"},
          {german: "verliebt", persian: "Ø¹Ø§Ø´Ù‚"}, {german: "bleiben", persian: "Ù…Ø§Ù†Ø¯Ù†"}, {german: "verrotten", persian: "Ù¾ÙˆØ³ÛŒØ¯Ù†"},
          {german: "kÃ¼ssen", persian: "Ø¨ÙˆØ³ÛŒØ¯Ù†"}, {german: "wollen", persian: "Ø®ÙˆØ§Ø³ØªÙ†"}, {german: "helfen", persian: "Ú©Ù…Ú© Ú©Ø±Ø¯Ù†"},
          {german: "Schlaf", persian: "Ø®ÙˆØ§Ø¨"}, {german: "Lassen", persian: "Ú¯Ø°Ø§Ø´ØªÙ†"}, {german: "Verflucht", persian: "Ù†ÙØ±ÛŒÙ†ÛŒ"},
          {german: "alt", persian: "Ú©Ù‡Ù†Ù‡"}, {german: "Fisch", persian: "Ù…Ø§Ù‡ÛŒ"}, {german: "fremdartig", persian: "ØºØ±ÛŒØ¨Ø§Ù†Ù‡"},
          {german: "Aufbruch / Migration", persian: "Ú©ÙˆÚ†"}, {german: "Fremd", persian: "ØºØ±ÛŒØ¨"}, {german: "zusammenbrechen", persian: "Ø§Ø² Ù¾Ø§ Ø¯Ø± Ø¢Ù…Ø¯Ù†"},
          {german: "Weg", persian: "Ø¬Ø§Ø¯Ù‡"}
        ];

        // App State
        const state = {
            currentView: 'home',
            selectedLine: null,
            currentFlashcard: 0,
            isFlipped: false,
            currentSection: 1,
            shuffledSentences: [],
            orderedSentences: []
        };

        // Render functions
        function renderHome() {
            return `
                <div class="home-view">
                    <div class="container">
                        <div class="header">
                            <div class="title-persian">Ú©Ù…Ú©Ù… Ú©Ù†</div>
                            <div class="title-german">Hilf mir</div>
                            <div class="artist">Googoosh</div>
                        </div>
                        
                        <div class="audio-hint">
                            <h3 style="margin-bottom: 1rem;">ğŸµ Audio</h3>
                            <p>Spielen Sie das Lied auf Ihrem bevorzugten Player ab (YouTube, Spotify, oder lokale Datei)</p>
                        </div>
                        
                        <div class="cards-grid">
                            <div class="card" onclick="showView('lyrics')">
                                <div class="card-icon" style="background: #3b82f6;">ğŸ“</div>
                                <div class="card-title">Liedtext</div>
                                <div class="card-description">Original & Hochpersisch mit deutscher Ãœbersetzung</div>
                            </div>
                            
                            <div class="card" onclick="showView('flashcards')">
                                <div class="card-icon" style="background: #10b981;">ğŸ“š</div>
                                <div class="card-title">Vokabeln</div>
                                <div class="card-description">${vocabularyData.length} Flashcards zum Lernen</div>
                            </div>
                            
                            <div class="card" onclick="showView('puzzle')">
                                <div class="card-icon" style="background: #ec4899;">ğŸ§©</div>
                                <div class="card-title">Satz-Puzzle</div>
                                <div class="card-description">Bringe die SÃ¤tze in die richtige Reihenfolge (4 Abschnitte)</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLyrics() {
            return `
                <div class="content-view lyrics-view">
                    <div class="container">
                        <button class="back-button" onclick="showView('home')">
                            ğŸ  ZurÃ¼ck
                        </button>
                        
                        <h2 class="view-title" style="color: #1e40af;">Liedtext - Ú©Ù…Ú©Ù… Ú©Ù†</h2>
                        
                        <div class="content-box">
                            <div class="lyrics-grid">
                                <div class="lyrics-column">
                                    <h3 style="color: #7c3aed; border-color: #7c3aed;">Ø§ØµÙ„ÛŒ (Ø²Ø¨Ø§Ù† Ù…Ø­Ø§ÙˆØ±Ù‡)</h3>
                                    ${songData.map((line, i) => `
                                        <div class="lyrics-line ${state.selectedLine === i ? 'active' : ''}" 
                                             style="color: #7c3aed;" 
                                             onclick="toggleLine(${i})">
                                            <div class="persian-text" dir="rtl">${line.original}</div>
                                            ${state.selectedLine === i ? `<div class="translation">${line.german}</div>` : ''}
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <div class="lyrics-column">
                                    <h3 style="color: #2563eb; border-color: #2563eb;">ÙØ§Ø±Ø³ÛŒ Ù…Ø¹ÛŒØ§Ø±</h3>
                                    ${songData.map((line, i) => `
                                        <div class="lyrics-line ${state.selectedLine === i ? 'active' : ''}" 
                                             style="color: #2563eb;" 
                                             onclick="toggleLine(${i})">
                                            <div class="persian-text" dir="rtl">${line.hochpersisch}</div>
                                            ${state.selectedLine === i ? `<div class="translation">${line.german}</div>` : ''}
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            
                            <p style="text-align: center; color: #666; margin-top: 2rem;">
                                Klicken Sie auf einen Satz, um die deutsche Ãœbersetzung zu sehen
                            </p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFlashcards() {
            const card = vocabularyData[state.currentFlashcard];
            const progress = ((state.currentFlashcard + 1) / vocabularyData.length) * 100;
            
            return `
                <div class="content-view flashcards-view">
                    <div class="container">
                        <button class="back-button" onclick="showView('home')">
                            ğŸ  ZurÃ¼ck
                        </button>
                        
                        <h2 class="view-title" style="color: #065f46;">Vokabel-Flashcards</h2>
                        
                        <div class="flashcard-container">
                            <div class="progress-text">
                                <strong>Fortschritt:</strong> ${state.currentFlashcard + 1} / ${vocabularyData.length}
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${progress}%"></div>
                            </div>
                            
                            <div class="flashcard ${state.isFlipped ? 'flipped' : ''}" onclick="flipCard()">
                                <div class="flashcard-content">
                                    ${state.isFlipped ? `
                                        <div class="flashcard-label">ÙØ§Ø±Ø³ÛŒ</div>
                                        <div class="flashcard-word" dir="rtl">${card.persian}</div>
                                    ` : `
                                        <div class="flashcard-label">Deutsch</div>
                                        <div class="flashcard-word">${card.german}</div>
                                    `}
                                </div>
                            </div>
                            
                            <div class="flashcard-hint">Klicken Sie auf die Karte, um sie umzudrehen</div>
                            
                            <div class="navigation">
                                <button class="nav-button" 
                                        style="background: white; color: #374151;"
                                        onclick="previousCard()" 
                                        ${state.currentFlashcard === 0 ? 'disabled' : ''}>
                                    â† ZurÃ¼ck
                                </button>
                                <button class="nav-button" 
                                        style="background: #10b981; color: white;"
                                        onclick="nextCard()" 
                                        ${state.currentFlashcard === vocabularyData.length - 1 ? 'disabled' : ''}>
                                    Weiter â†’
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderPuzzle() {
            const sectionSentences = songData.filter(item => item.section === state.currentSection);
            const isComplete = state.orderedSentences.length === sectionSentences.length;
            const isCorrect = isComplete && state.orderedSentences.every((sentence, index) => 
                sentence.original === sectionSentences[index].original
            );
            
            return `
                <div class="content-view puzzle-view">
                    <div class="container">
                        <button class="back-button" onclick="showView('home')">
                            ğŸ  ZurÃ¼ck
                        </button>
                        
                        <h2 class="view-title" style="color: #be185d;">Satz-Puzzle</h2>
                        
                        <p style="text-align: center; color: #666; margin-bottom: 2rem;">
                            HÃ¶ren Sie das Lied, pausieren Sie es und ordnen Sie die SÃ¤tze in der richtigen Reihenfolge
                        </p>
                        
                        <div class="section-selector">
                            ${[1, 2, 3, 4].map(section => `
                                <button class="section-button ${state.currentSection === section ? 'active' : ''}" 
                                        onclick="changeSection(${section})">
                                    Teil ${section}
                                </button>
                            `).join('')}
                        </div>
                        
                        <div class="content-box">
                            <div class="puzzle-instructions">
                                ğŸ’¡ <strong>Anleitung:</strong> Klicken Sie auf die SÃ¤tze in der richtigen Reihenfolge
                            </div>
                            
                            <h3 style="margin-bottom: 1rem;">VerfÃ¼gbare SÃ¤tze:</h3>
                            <div class="sentences-list">
                                ${state.shuffledSentences.map((sentence, i) => {
                                    const isUsed = state.orderedSentences.find(s => s.original === sentence.original);
                                    return `
                                        <div class="sentence-item ${isUsed ? 'used' : ''}" 
                                             onclick="${isUsed ? '' : `addSentence(${i})`}">
                                            <div dir="rtl">${sentence.original}</div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                            
                            ${state.orderedSentences.length > 0 ? `
                                <div class="ordered-list">
                                    <h3 style="margin-bottom: 1rem;">
                                        Ihre Reihenfolge: 
                                        <span style="color: #666; font-size: 0.9rem;">
                                            (${state.orderedSentences.length} / ${sectionSentences.length})
                                        </span>
                                    </h3>
                                    ${state.orderedSentences.map((sentence, i) => `
                                        <div class="ordered-item">
                                            <div class="order-number">${i + 1}</div>
                                            <div class="sentence-text" dir="rtl">${sentence.original}</div>
                                            <button class="remove-button" onclick="removeSentence(${i})">âœ•</button>
                                        </div>
                                    `).join('')}
                                </div>
                            ` : ''}
                            
                            ${isComplete ? `
                                <div class="result-box ${isCorrect ? 'success' : 'error'}">
                                    <div class="result-emoji">${isCorrect ? 'ğŸ‰' : 'ğŸ˜…'}</div>
                                    <div class="result-message">
                                        ${isCorrect ? 'Perfekt! Die Reihenfolge ist richtig!' : 'Nicht ganz richtig. Versuchen Sie es noch einmal!'}
                                    </div>
                                    ${isCorrect ? `
                                        <div class="stars">â­â­â­</div>
                                        ${state.currentSection < 4 ? `
                                            <button class="action-button" onclick="changeSection(${state.currentSection + 1})">
                                                NÃ¤chster Teil â†’
                                            </button>
                                        ` : ''}
                                    ` : `
                                        <button class="action-button" onclick="resetPuzzle()">
                                            Neu starten
                                        </button>
                                    `}
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        // Action functions
        function showView(view) {
            state.currentView = view;
            if (view === 'puzzle') {
                initPuzzle(state.currentSection);
            }
            render();
        }

        function toggleLine(index) {
            state.selectedLine = state.selectedLine === index ? null : index;
            render();
        }

        function flipCard() {
            state.isFlipped = !state.isFlipped;
            render();
        }

        function previousCard() {
            if (state.currentFlashcard > 0) {
                state.currentFlashcard--;
                state.isFlipped = false;
                render();
            }
        }

        function nextCard() {
            if (state.currentFlashcard < vocabularyData.length - 1) {
                state.currentFlashcard++;
                state.isFlipped = false;
                render();
            }
        }

        function changeSection(section) {
            initPuzzle(section);
        }

        function initPuzzle(section) {
            state.currentSection = section;
            const sectionSentences = songData.filter(item => item.section === section);
            state.shuffledSentences = [...sectionSentences].sort(() => Math.random() - 0.5);
            state.orderedSentences = [];
            render();
        }

        function addSentence(index) {
            const sentence = state.shuffledSentences[index];
            if (!state.orderedSentences.find(s => s.original === sentence.original)) {
                state.orderedSentences.push(sentence);
                render();
            }
        }

        function removeSentence(index) {
            state.orderedSentences.splice(index, 1);
            render();
        }

        function resetPuzzle() {
            initPuzzle(state.currentSection);
        }

        // Main render
        function render() {
            const app = document.getElementById('app');
            let html = '';
            
            switch(state.currentView) {
                case 'home':
                    html = renderHome();
                    break;
                case 'lyrics':
                    html = renderLyrics();
                    break;
                case 'flashcards':
                    html = renderFlashcards();
                    break;
                case 'puzzle':
                    html = renderPuzzle();
                    break;
            }
            
            app.innerHTML = html;
        }

        // Initialize
        initPuzzle(1);
        render();
    </script>
</body>
</html>
